module.exports=[12683,a=>{"use strict";var b=a.i(87924),c=a.i(72131),d=a.i(50944);a.i(99711);var e=a.i(27759),f=a.i(93641),g=a.i(15072);a.i(56120);var h=a.i(45346),i=a.i(17731),j=a.i(62917),k=a.i(11703),l=a.i(43328),m=a.i(78616),n=a.i(13787),o=a.i(15409),p=a.i(96221),q=a.i(210),r=a.i(57990),s=a.i(70106);let t=(0,s.default)("external-link",[["path",{d:"M15 3h6v6",key:"1q9fwt"}],["path",{d:"M10 14 21 3",key:"gplh6r"}],["path",{d:"M18 13v6a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h6",key:"a6xqqp"}]]);var u=a.i(63519),v=a.i(92258),w=a.i(33508),x=a.i(23292),y=a.i(67327),z=a.i(73320);let A=(0,s.default)("grip-vertical",[["circle",{cx:"9",cy:"12",r:"1",key:"1vctgf"}],["circle",{cx:"9",cy:"5",r:"1",key:"hp0tcf"}],["circle",{cx:"9",cy:"19",r:"1",key:"fkjjf6"}],["circle",{cx:"15",cy:"12",r:"1",key:"1tmaij"}],["circle",{cx:"15",cy:"5",r:"1",key:"19l28e"}],["circle",{cx:"15",cy:"19",r:"1",key:"f4zoj3"}]]);var B=a.i(84520),C=a.i(71987);a.s([],78807),a.i(78807);var D=a.i(702);let E=(0,c.createContext)(null);var F=a.i(46271),G=a.i(74290),H=a.i(55761),I=a.i(32562);let J=(0,c.forwardRef)(function({children:a,as:d="ul",axis:e="y",onReorder:f,values:g,...h},i){let j=(0,G.useConstant)(()=>F.motion[d]),k=[],l=(0,c.useRef)(!1),m=(0,c.useRef)(null);(0,D.invariant)(!!g,"Reorder.Group must be provided a values prop","reorder-values"),(0,c.useEffect)(()=>{l.current=!1});let n={overflowAnchor:"none",...h.style};return(0,b.jsx)(j,{...h,style:n,ref:a=>{m.current=a,"function"==typeof i?i(a):i&&(i.current=a)},ignoreStrict:!0,children:(0,b.jsx)(E.Provider,{value:{axis:e,groupRef:m,registerItem:(a,b)=>{let c=k.findIndex(b=>a===b.value);-1!==c?k[c].layout=b[e]:k.push({value:a,layout:b[e]}),k.sort(L)},updateOrder:(a,b,c)=>{if(l.current)return;let d=function(a,b,c,d){if(!d)return a;let e=a.findIndex(a=>a.value===b);if(-1===e)return a;let f=d>0?1:-1,g=a[e+f];if(!g)return a;let h=a[e],i=g.layout,j=(0,H.mixNumber)(i.min,i.max,.5);return 1===f&&h.layout.max+c>j||-1===f&&h.layout.min+c<j?(0,I.moveItem)(a,e,e+f):a}(k,a,b,c);k!==d&&(l.current=!0,f(d.map(K).filter(a=>-1!==g.indexOf(a))))}},children:a})})});function K(a){return a.value}function L(a,b){return a.layout.min-b.layout.min}var M=a.i(98852),N=a.i(36829),O=a.i(65802);function P(a){let b=(0,G.useConstant)(()=>(0,N.motionValue)(a)),{isStatic:d}=(0,c.useContext)(O.MotionConfigContext);if(d){let[,d]=(0,c.useState)(a);(0,c.useEffect)(()=>b.on("change",d),[])}return b}var Q=a.i(68203),R=a.i(22647),S=a.i(1703);function T(a,b){let c=P(b()),d=()=>c.set(b());return d(),(0,S.useIsomorphicLayoutEffect)(()=>{let b=()=>R.frame.preRender(d,!1,!0),c=a.map(a=>a.on("change",b));return()=>{c.forEach(a=>a()),(0,R.cancelFrame)(d)}}),c}function U(a,b){let c=(0,G.useConstant)(()=>[]);return T(a,()=>{c.length=0;let d=a.length;for(let b=0;b<d;b++)c[b]=a[b].get();return b(c)})}let V=new Set(["auto","scroll"]),W=new WeakMap,X=new WeakMap,Y=null;function Z(a,b){let c=a?.parentElement;for(;c;){if(function(a,b){let c=getComputedStyle(a),d="x"===b?c.overflowX:c.overflowY,e=a===document.body||a===document.documentElement;return V.has(d)||e}(c,b))return c;c=c.parentElement}return null}function $(a,b=0){return(0,M.isMotionValue)(a)?a:P(b)}let _=(0,c.forwardRef)(function({children:a,style:d={},value:e,as:f="li",onDrag:g,onDragEnd:h,layout:i=!0,...j},k){let l=(0,G.useConstant)(()=>F.motion[f]),m=(0,c.useContext)(E),n={x:$(d.x),y:$(d.y)},o=function a(b,c,d,e){if("function"==typeof b){let a;return N.collectMotionValues.current=[],b(),a=T(N.collectMotionValues.current,b),N.collectMotionValues.current=void 0,a}if(void 0!==d&&!Array.isArray(d)&&"function"!=typeof c){var f=b,g=c,h=d,i=e;let j=(0,G.useConstant)(()=>Object.keys(h)),k=(0,G.useConstant)(()=>({}));for(let b of j)k[b]=a(f,g,h[b],i);return k}let j="function"==typeof c?c:function(...a){let b=!Array.isArray(a[0]),c=b?0:-1,d=a[0+c],e=a[1+c],f=a[2+c],g=a[3+c],h=(0,Q.interpolate)(e,f,g);return b?h(d):h}(c,d,e),k=Array.isArray(b)?U(b,j):U([b],([a])=>j(a)),l=Array.isArray(b)?void 0:b.accelerate;return l&&!l.isTransformed&&"function"!=typeof c&&Array.isArray(d)&&e?.clamp!==!1&&(k.accelerate={...l,times:c,keyframes:d,isTransformed:!0,...e?.ease?{ease:e.ease}:{}}),k}([n.x,n.y],([a,b])=>a||b?1:"unset");(0,D.invariant)(!!m,"Reorder.Item must be a child of Reorder.Group","reorder-item-child");let{axis:p,registerItem:q,updateOrder:r,groupRef:s}=m;return(0,b.jsx)(l,{drag:p,...j,dragSnapToOrigin:!0,style:{...d,x:n.x,y:n.y,zIndex:o},layout:i,onDrag:(a,b)=>{let{velocity:c,point:d}=b;r(e,n[p].get(),c[p]),function(a,b,c,d){if(!a)return;Y=a;let e=Z(a,c);if(!e)return;let{amount:f,edge:g}=function(a,b,c){let d=b.getBoundingClientRect(),e="x"===c?Math.max(0,d.left):Math.max(0,d.top),f="x"===c?Math.min(window.innerWidth,d.right):Math.min(window.innerHeight,d.bottom),g=a-e,h=f-a;if(g<50){let a=1-g/50;return{amount:-25*a*a,edge:"start"}}if(h<50){let a=1-h/50;return{amount:25*a*a,edge:"end"}}return{amount:0,edge:null}}(b-("x"===c?window.scrollX:window.scrollY),e,c);if(null===g){X.delete(e),W.delete(e);return}let h=X.get(e),i=e===document.body||e===document.documentElement;if(h!==g){if(!("start"===g&&d<0||"end"===g&&d>0))return;X.set(e,g);let a="x"===c?e.scrollWidth-(i?window.innerWidth:e.clientWidth):e.scrollHeight-(i?window.innerHeight:e.clientHeight);W.set(e,a)}if(f>0){let a=W.get(e);if(("x"===c?i?window.scrollX:e.scrollLeft:i?window.scrollY:e.scrollTop)>=a)return}"x"===c?i?window.scrollBy({left:f}):e.scrollLeft+=f:i?window.scrollBy({top:f}):e.scrollTop+=f}(s.current,d[p],p,c[p]),g&&g(a,b)},onDragEnd:(a,b)=>{if(Y){let a=Z(Y,"y");a&&(X.delete(a),W.delete(a));let b=Z(Y,"x");b&&b!==a&&(X.delete(b),W.delete(b)),Y=null}h&&h(a,b)},onLayoutMeasure:a=>{q(e,a)},ref:k,ignoreStrict:!0,children:a})});a.s(["Group",()=>J,"Item",()=>_],49560);var aa=a.i(49560),aa=aa;class ab{constructor(){this.componentControls=new Set}subscribe(a){return this.componentControls.add(a),()=>this.componentControls.delete(a)}start(a,b){this.componentControls.forEach(c=>{c.start(a.nativeEvent||a,b)})}cancel(){this.componentControls.forEach(a=>{a.cancel()})}stop(){this.componentControls.forEach(a=>{a.stop()})}}let ac=()=>new ab;function ad({images:a=[],onChange:d,maxImages:e=25}){let[f,g]=(0,c.useState)(!1),h=async b=>{let c=b.target.files;if(!c||0===c.length)return;if(a.length+c.length>e)return void x.toast.error(`You can only upload up to ${e} images`);g(!0);let f=[...a];try{for(let a=0;a<c.length;a++){let b=c[a];if(b.size>5242880){x.toast.error(`File ${b.name} is too large (>5MB)`);continue}let d=await B.mediaService.uploadMedia(b);f.push(d)}d(f),x.toast.success("Gallery updated successfully")}catch(b){console.error("Gallery upload failed",b);let a=b.response?.data?.error||"Failed to upload some images";x.toast.error(a)}finally{g(!1),b.target.value=""}};return(0,b.jsxs)("div",{className:"space-y-4",children:[(0,b.jsx)("div",{className:"relative",children:(0,b.jsxs)(aa.Group,{axis:"x",values:a,onReorder:d,className:"flex gap-4 overflow-x-auto pb-4 scrollbar-hide snap-x",children:[a.map((c,e)=>(0,b.jsx)(ae,{url:c,index:e,onRemove:()=>{let b;(b=[...a]).splice(e,1),d(b)}},c)),a.length<e&&(0,b.jsxs)("label",{className:"flex-shrink-0 aspect-square w-32 md:w-36 border-2 border-dashed border-primary/20 hover:border-primary/40 rounded-xl flex flex-col items-center justify-center cursor-pointer bg-primary/5 hover:bg-primary/10 transition-all group snap-start",children:[f?(0,b.jsx)(p.Loader2,{className:"h-6 w-6 animate-spin text-primary"}):(0,b.jsxs)(b.Fragment,{children:[(0,b.jsx)(z.Upload,{className:"h-5 w-5 text-primary mb-1 group-hover:scale-110 transition-transform"}),(0,b.jsx)("span",{className:"text-[10px] text-primary font-bold uppercase tracking-wider text-center",children:"Add More"})]}),(0,b.jsx)("input",{type:"file",accept:"image/*",multiple:!0,className:"hidden",onChange:h,disabled:f})]})]})}),(0,b.jsxs)("div",{className:"flex items-center justify-between px-1",children:[(0,b.jsxs)("p",{className:"text-[10px] text-muted-foreground flex items-center gap-1.5 font-bold uppercase tracking-tight",children:[(0,b.jsx)(A,{className:"h-3 w-3 opacity-50"}),"Drag handle horizontally to reorder. First image is the cover."]}),(0,b.jsxs)("div",{className:"text-[10px] font-black text-muted-foreground/40 bg-muted px-2 py-0.5 rounded-full",children:[a.length," / ",e]})]})]})}function ae({url:a,index:c,onRemove:d}){let e=(0,G.useConstant)(ac);return(0,b.jsxs)(aa.Item,{value:a,dragListener:!1,dragControls:e,className:`relative flex-shrink-0 aspect-square w-32 md:w-36 group rounded-xl overflow-hidden border bg-card transition-shadow hover:shadow-md snap-start ${0===c?"ring-2 ring-primary ring-offset-2":"border-muted"}`,children:[(0,b.jsx)(C.default,{src:a,alt:`Gallery ${c+1}`,fill:!0,className:"object-cover pointer-events-none"}),0===c&&(0,b.jsx)("div",{className:"absolute top-2 left-2 z-10 pointer-events-none transition-opacity group-hover:opacity-0",children:(0,b.jsx)(o.Badge,{className:"bg-primary/90 backdrop-blur-sm text-[10px] px-1.5 py-0 h-5 border-none shadow-sm font-bold",variant:"default",children:"COVER"})}),(0,b.jsxs)("div",{className:"absolute inset-0 bg-black/40 opacity-0 group-hover:opacity-100 transition-opacity flex flex-col justify-between p-2",children:[(0,b.jsxs)("div",{className:"flex justify-between items-start",children:[0===c?(0,b.jsx)(o.Badge,{className:"bg-primary text-[10px] px-1.5 py-0 h-5 border-none font-bold",variant:"default",children:"COVER"}):(0,b.jsx)("div",{}),(0,b.jsx)("button",{onClick:a=>{a.stopPropagation(),d()},className:"p-1.5 bg-white/20 hover:bg-red-500 rounded-full transition-colors text-white",type:"button",children:(0,b.jsx)(w.X,{className:"h-4 w-4"})})]}),(0,b.jsx)("div",{className:"flex justify-center pb-2 cursor-grab active:cursor-grabbing",onPointerDown:a=>e.start(a),children:(0,b.jsx)("div",{className:"bg-white p-2 rounded-lg text-primary shadow-lg transform active:scale-110 transition-transform",children:(0,b.jsx)(A,{className:"h-5 w-5"})})})]})]})}var af=a.i(4720);let ag=(0,s.default)("download",[["path",{d:"M12 15V3",key:"m9g1x1"}],["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["path",{d:"m7 10 5 5 5-5",key:"brsn70"}]]),ah=(0,s.default)("trash-2",[["path",{d:"M10 11v6",key:"nco0om"}],["path",{d:"M14 11v6",key:"outv1u"}],["path",{d:"M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6",key:"miytrc"}],["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M8 6V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2",key:"e791ji"}]]);function ai({files:a=[],onChange:d,maxFiles:e=20}){let[f,g]=(0,c.useState)(!1),h=async b=>{let c=b.target.files;if(!c||0===c.length)return;if(a.length+c.length>e)return void x.toast.error(`You can only upload up to ${e} files`);g(!0);let f=[...a];try{for(let a=0;a<c.length;a++){let b=c[a];if(b.size>5242880){x.toast.error(`File ${b.name} is too large (>5MB)`);continue}if("application/pdf"!==b.type){x.toast.error(`File ${b.name} is not a PDF`);continue}let d=await B.mediaService.uploadMedia(b);f.push({name:b.name,url:d,size:(b.size/1024/1024).toFixed(2)+" MB"})}d(f),x.toast.success("Portfolio updated successfully")}catch(b){console.error("Portfolio upload failed",b);let a=b.response?.data?.error||"Failed to upload some files";x.toast.error(a)}finally{g(!1),b.target.value=""}};return(0,b.jsxs)("div",{className:"space-y-4",children:[(0,b.jsx)("div",{className:"grid gap-3",children:a.map((c,e)=>(0,b.jsxs)("div",{className:"flex items-center justify-between p-3 border rounded-lg bg-card hover:bg-accent/50 transition-colors group",children:[(0,b.jsxs)("div",{className:"flex items-center gap-3 overflow-hidden",children:[(0,b.jsx)("div",{className:"p-2 bg-red-100 dark:bg-red-900/30 rounded text-red-600 dark:text-red-400",children:(0,b.jsx)(af.FileText,{className:"h-5 w-5"})}),(0,b.jsxs)("div",{className:"min-w-0",children:[(0,b.jsx)("a",{href:c.url,target:"_blank",rel:"noopener noreferrer",className:"font-medium text-sm truncate hover:underline block",children:c.name}),c.size&&(0,b.jsx)("span",{className:"text-xs text-muted-foreground",children:c.size})]})]}),(0,b.jsxs)("div",{className:"flex items-center gap-2",children:[(0,b.jsx)("a",{href:c.url,target:"_blank",rel:"noopener noreferrer",className:"p-2 text-muted-foreground hover:text-foreground rounded-full hover:bg-muted",title:"Download/View",children:(0,b.jsx)(ag,{className:"h-4 w-4"})}),(0,b.jsx)("button",{onClick:()=>{let b;(b=[...a]).splice(e,1),d(b)},className:"p-2 text-muted-foreground hover:text-red-600 rounded-full hover:bg-muted",type:"button",title:"Delete",children:(0,b.jsx)(ah,{className:"h-4 w-4"})})]})]},e))}),a.length<e&&(0,b.jsxs)("div",{className:"mt-2",children:[(0,b.jsxs)("label",{className:"inline-flex",children:[(0,b.jsxs)(j.Button,{variant:"outline",disabled:f,onClick:()=>document.getElementById("portfolio-upload")?.click(),type:"button",className:"gap-2",children:[f?(0,b.jsx)(p.Loader2,{className:"h-4 w-4 animate-spin"}):(0,b.jsx)(z.Upload,{className:"h-4 w-4"}),"Upload PDF"]}),(0,b.jsx)("input",{id:"portfolio-upload",type:"file",accept:".pdf",multiple:!0,className:"hidden",onChange:h,disabled:f})]}),(0,b.jsxs)("p",{className:"text-xs text-muted-foreground mt-2",children:["Max ",e," files, 5MB each."]})]})]})}var aj=a.i(38246),ak=a.i(16245);function al(){let a=(0,d.useRouter)(),[s,z]=(0,c.useState)(null),[A,B]=(0,c.useState)(null),[C,D]=(0,c.useState)(!0),[E,F]=(0,c.useState)(!1),[G,H]=(0,c.useState)("profile"),[I,J]=(0,c.useState)([]),[K,L]=(0,c.useState)(null),[M,N]=(0,c.useState)({}),[O,P]=(0,c.useState)("active"),[Q,R]=(0,c.useState)(null),[S,T]=(0,c.useState)(null),[U,V]=(0,c.useState)(!1),[W,X]=(0,c.useState)(!1),[Y,Z]=(0,c.useState)({business_name:"",category:"",city:"",bio:"",whatsapp_link:"",portfolio_image_url:"",gallery_images:[],portfolio_files:[]});(0,c.useEffect)(()=>{(async()=>{try{let b=await e.userService.getMe();if(z(b),!b.vendor_profile_exists)return void a.push("/vendor/onboard");try{let a=await f.vendorService.getMyProfile();B(a),Z({business_name:a.business_name||"",category:a.category||"",city:a.city||"",bio:a.bio||"",whatsapp_link:a.whatsapp_link||"",portfolio_image_url:a.portfolio_image_url||"",gallery_images:a.gallery_images||[],portfolio_files:a.portfolio_files||[]});try{let a=await g.quoteService.getQuoteRequests();J(a)}catch(a){console.error("Failed to fetch quote requests",a)}}catch(b){if(console.error("Failed to fetch vendor profile",b),b.response&&404===b.response.status){x.toast.error("Vendor profile not found. Please complete onboarding."),a.push("/vendor/onboard");return}x.toast.error("Failed to load vendor profile")}}catch(b){console.error(b),a.push("/auth/login")}finally{D(!1)}})()},[a]);let $=async a=>{a.preventDefault(),F(!0);try{await f.vendorService.updateProfile(Y),x.toast.success("Vendor profile updated successfully");let a=await f.vendorService.getMyProfile();B(a)}catch(b){console.error("Failed to update profile",b);let a=b.response?.data?.error||"Failed to update profile.";x.toast.error(a)}finally{F(!1)}},_=async a=>{let b=M[a];if(b&&b.price){L(a);try{await g.quoteService.respondToQuote(a,Number(b.price),b.message,b.attachment),x.toast.success("Quote response sent!");let c=await g.quoteService.getQuoteRequests();J(c)}catch(a){console.error(a),x.toast.error("Failed to send response.")}finally{L(null)}}},aa=async a=>{R(a),X(!0),V(!0);try{let b=await g.quoteService.getQuoteContact(a.id);T(b)}catch(b){console.error("Failed to fetch contact info",b);let a=b.response?.data?.error||"Failed to fetch contact information.";x.toast.error(a),V(!1)}finally{X(!1)}};return C?(0,b.jsxs)("div",{className:"flex min-h-screen flex-col",children:[(0,b.jsx)(h.Navbar,{}),(0,b.jsx)("div",{className:"flex-1 flex items-center justify-center",children:(0,b.jsx)(p.Loader2,{className:"h-8 w-8 animate-spin text-primary"})}),(0,b.jsx)(i.Footer,{})]}):A?(0,b.jsxs)("div",{className:"flex min-h-screen flex-col bg-slate-50 dark:bg-slate-950",children:[(0,b.jsx)(h.Navbar,{}),(0,b.jsxs)("main",{className:"flex-1 container mx-auto px-4 py-8 max-w-5xl",children:[(0,b.jsxs)("div",{className:"mb-6 flex items-center gap-4",children:[(0,b.jsx)(j.Button,{variant:"ghost",size:"icon",asChild:!0,children:(0,b.jsx)(aj.default,{href:"/dashboard",children:(0,b.jsx)(q.ArrowLeft,{className:"h-4 w-4"})})}),(0,b.jsxs)("div",{children:[(0,b.jsx)("h1",{className:"text-2xl font-bold tracking-tight",children:"Vendor Dashboard"}),(0,b.jsx)("p",{className:"text-muted-foreground",children:"Manage your business profile, gallery, and portfolio."})]}),(0,b.jsxs)("div",{className:"ml-auto flex gap-2",children:[(0,b.jsx)(j.Button,{variant:"outline",asChild:!0,children:(0,b.jsxs)(aj.default,{href:`/vendors/${A.slug}`,target:"_blank",children:[(0,b.jsx)(t,{className:"mr-2 h-4 w-4"}),"View Public Profile"]})}),(0,b.jsxs)(j.Button,{onClick:$,disabled:E,children:[E&&(0,b.jsx)(p.Loader2,{className:"mr-2 h-4 w-4 animate-spin"}),"Save Changes"]})]})]}),(0,b.jsxs)("div",{className:"mb-8 flex items-center gap-6 border-b",children:[(0,b.jsx)("button",{onClick:()=>H("profile"),className:`pb-3 border-b-2 font-medium text-sm transition-colors ${"profile"===G?"border-primary text-foreground":"border-transparent text-muted-foreground hover:text-foreground"}`,children:"Business Profile"}),(0,b.jsxs)("button",{onClick:()=>H("quotes"),className:`pb-3 border-b-2 font-medium text-sm transition-colors ${"quotes"===G?"border-primary text-foreground":"border-transparent text-muted-foreground hover:text-foreground"}`,children:["Quote Requests",I.filter(a=>"pending"===a.status||"revision_requested"===a.status).length>0&&(0,b.jsx)("span",{className:"ml-2 bg-primary text-primary-foreground text-[10px] py-0.5 px-2 rounded-full",children:I.filter(a=>"pending"===a.status||"revision_requested"===a.status).length})]})]}),"profile"===G?(0,b.jsxs)("div",{className:"grid gap-6 md:grid-cols-[1fr_300px] animate-in fade-in-50",children:[(0,b.jsxs)("div",{className:"space-y-6",children:[(0,b.jsxs)(k.Card,{children:[(0,b.jsxs)(k.CardHeader,{children:[(0,b.jsx)(k.CardTitle,{children:"Media Gallery"}),(0,b.jsx)(k.CardDescription,{children:"Showcase your work with a gallery of images (max 25)."})]}),(0,b.jsx)(k.CardContent,{children:(0,b.jsx)(ad,{images:Y.gallery_images,onChange:a=>Z({...Y,gallery_images:a}),maxImages:25})})]}),(0,b.jsxs)(k.Card,{children:[(0,b.jsxs)(k.CardHeader,{children:[(0,b.jsx)(k.CardTitle,{children:"Portfolio & Documents"}),(0,b.jsx)(k.CardDescription,{children:"Upload PDF portfolios, rate cards, or brochures (max 20)."})]}),(0,b.jsx)(k.CardContent,{children:(0,b.jsx)(ai,{files:Y.portfolio_files,onChange:a=>Z({...Y,portfolio_files:a}),maxFiles:20})})]}),(0,b.jsxs)(k.Card,{children:[(0,b.jsxs)(k.CardHeader,{children:[(0,b.jsx)(k.CardTitle,{children:"Business Details"}),(0,b.jsx)(k.CardDescription,{children:"Update your basic business information."})]}),(0,b.jsxs)(k.CardContent,{className:"space-y-4",children:[(0,b.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[(0,b.jsxs)("div",{className:"space-y-2",children:[(0,b.jsx)(n.Label,{htmlFor:"business_name",children:"Business Name"}),(0,b.jsx)(l.Input,{id:"business_name",value:Y.business_name,onChange:a=>Z({...Y,business_name:a.target.value})})]}),(0,b.jsxs)("div",{className:"space-y-2",children:[(0,b.jsx)(n.Label,{htmlFor:"category",children:"Category"}),(0,b.jsx)(l.Input,{id:"category",value:Y.category,onChange:a=>Z({...Y,category:a.target.value})})]})]}),(0,b.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[(0,b.jsxs)("div",{className:"space-y-2",children:[(0,b.jsx)(n.Label,{htmlFor:"city",children:"City"}),(0,b.jsx)(l.Input,{id:"city",value:Y.city,onChange:a=>Z({...Y,city:a.target.value})})]}),(0,b.jsxs)("div",{className:"space-y-2",children:[(0,b.jsx)(n.Label,{htmlFor:"whatsapp",children:"WhatsApp Link"}),(0,b.jsx)(l.Input,{id:"whatsapp",value:Y.whatsapp_link,onChange:a=>Z({...Y,whatsapp_link:a.target.value})})]})]}),(0,b.jsxs)("div",{className:"space-y-2",children:[(0,b.jsx)(n.Label,{htmlFor:"bio",children:"Bio"}),(0,b.jsx)(m.Textarea,{id:"bio",value:Y.bio,onChange:a=>Z({...Y,bio:a.target.value}),rows:4})]})]})]})]}),(0,b.jsxs)("div",{className:"space-y-6",children:[(0,b.jsxs)(k.Card,{children:[(0,b.jsxs)(k.CardHeader,{children:[(0,b.jsx)(k.CardTitle,{children:"Primary Image"}),(0,b.jsx)(k.CardDescription,{children:"This is the main image shown on your profile card."})]}),(0,b.jsxs)(k.CardContent,{className:"flex flex-col items-center",children:[Y.portfolio_image_url||s?.profile_image_url?(0,b.jsx)(y.FileUpload,{onUploaded:a=>Z({...Y,portfolio_image_url:a}),defaultUrl:Y.portfolio_image_url||s?.profile_image_url,label:"Upload Brand Image"}):(0,b.jsxs)("div",{className:"space-y-4 flex flex-col items-center w-full",children:[(0,b.jsx)("div",{className:"h-32 w-32 rounded-full bg-slate-100 dark:bg-slate-800 flex items-center justify-center text-3xl font-bold text-muted-foreground border-2 border-dashed border-muted-foreground/20",children:(s?.full_name||s?.username||"V").charAt(0).toUpperCase()}),(0,b.jsx)(y.FileUpload,{onUploaded:a=>Z({...Y,portfolio_image_url:a}),label:"Upload Brand Image"})]}),(0,b.jsx)("p",{className:"text-xs text-muted-foreground mt-4 text-center",children:"If not set, we'll use your personal profile picture or initials."})]})]}),(0,b.jsxs)(k.Card,{children:[(0,b.jsx)(k.CardHeader,{children:(0,b.jsx)(k.CardTitle,{children:"Satus"})}),(0,b.jsxs)(k.CardContent,{children:[(0,b.jsxs)("div",{className:"flex items-center gap-2",children:[(0,b.jsx)("div",{className:`h-2.5 w-2.5 rounded-full ${A.verified?"bg-green-500":"bg-yellow-500"}`}),(0,b.jsx)("span",{className:"font-medium capitalize",children:A.verified?"Verified":"Pending Verification"})]}),!A.verified&&(0,b.jsx)("p",{className:"text-xs text-muted-foreground mt-2",children:"Your profile is under review by our team."})]})]})]})]}):(0,b.jsxs)("div",{className:"space-y-4 animate-in fade-in-50",children:[(0,b.jsxs)("div",{className:"flex gap-4 mb-4 border-b pb-1",children:[(0,b.jsxs)("button",{onClick:()=>P("active"),className:`pb-2 px-4 transition-colors relative text-xs ${"active"===O?"text-primary font-semibold":"text-muted-foreground"}`,children:["Active Requests","active"===O&&(0,b.jsx)("div",{className:"absolute bottom-0 left-0 w-full h-0.5 bg-primary rounded-full"})]}),(0,b.jsxs)("button",{onClick:()=>P("archived"),className:`pb-2 px-4 transition-colors relative text-xs ${"archived"===O?"text-primary font-semibold":"text-muted-foreground"}`,children:["Archived / Expired","archived"===O&&(0,b.jsx)("div",{className:"absolute bottom-0 left-0 w-full h-0.5 bg-primary rounded-full"})]})]}),0===I.filter(a=>"active"===O?"archived"!==a.status:"archived"===a.status).length?(0,b.jsx)(k.Card,{children:(0,b.jsxs)(k.CardContent,{className:"flex flex-col items-center justify-center p-12 text-center text-muted-foreground",children:[(0,b.jsx)(r.Store,{className:"h-8 w-8 mb-4 opacity-50"}),(0,b.jsx)("h3",{className:"text-lg font-semibold text-foreground mb-1",children:"No Quote Requests Yet"}),(0,b.jsx)("p",{children:"When users request pricing for events, they will appear here."})]})}):I.filter(a=>"active"===O?"archived"!==a.status:"archived"===a.status).map(a=>(0,b.jsxs)(k.Card,{children:[(0,b.jsx)(k.CardHeader,{children:(0,b.jsxs)("div",{className:"flex justify-between items-start",children:[(0,b.jsxs)("div",{children:[(0,b.jsx)(k.CardTitle,{children:a.event_title||a.event_id}),(0,b.jsxs)(k.CardDescription,{children:["Requested by: ",a.organizer_name," • ",a.created_at?new Date(a.created_at).toLocaleDateString():"Unknown Date"]})]}),(0,b.jsx)(o.Badge,{variant:"pending"===a.status?"outline":"accepted"===a.status?"default":"responded"===a.status?"secondary":"archived"===a.status?"outline":"revision_requested"===a.status?"destructive":"secondary",className:"capitalize",children:"archived"===a.status?"Contact Expired":a.status.replace("_"," ")})]})}),(0,b.jsxs)(k.CardContent,{className:"space-y-4",children:[a.message&&(0,b.jsxs)("div",{className:"bg-muted p-4 rounded-md text-sm",children:[(0,b.jsx)("p",{className:"font-semibold mb-1 text-muted-foreground",children:"Message from Organizer:"}),(0,b.jsx)("p",{children:a.message})]}),a.revision_message&&(0,b.jsxs)("div",{className:"bg-orange-50 border border-orange-200 p-4 rounded-md text-sm",children:[(0,b.jsx)("p",{className:"font-semibold mb-1 text-orange-700 font-bold uppercase tracking-wider text-[10px]",children:"Revision Feedback:"}),(0,b.jsx)("p",{className:"text-orange-900",children:a.revision_message})]}),a.budget_range&&(0,b.jsxs)("div",{className:"bg-muted p-4 rounded-md text-sm",children:[(0,b.jsx)("p",{className:"font-semibold mb-1 text-muted-foreground",children:"Budget Range:"}),(0,b.jsx)("p",{children:a.budget_range})]}),a.special_requirements&&(0,b.jsxs)("div",{className:"bg-primary/5 border border-primary/20 p-4 rounded-md text-sm",children:[(0,b.jsx)("p",{className:"font-semibold mb-1 text-primary",children:"Special Requirements:"}),(0,b.jsx)("p",{children:a.special_requirements})]}),a.deadline&&(0,b.jsxs)("div",{className:"bg-muted p-4 rounded-md text-sm flex justify-between items-center",children:[(0,b.jsx)("p",{className:"font-semibold text-muted-foreground",children:"Response Deadline:"}),(0,b.jsx)("p",{className:"font-medium text-red-600",children:new Date(a.deadline).toLocaleDateString()})]}),("pending"===a.status||"revision_requested"===a.status)&&(0,b.jsxs)("div",{className:"space-y-4 border-t pt-4 mt-4",children:[(0,b.jsx)("h4",{className:"font-semibold text-sm",children:"Send Response"}),(0,b.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:(0,b.jsxs)("div",{className:"space-y-2",children:[(0,b.jsx)(n.Label,{children:"Your Quoted Price (₹)"}),(0,b.jsx)(l.Input,{type:"number",placeholder:"e.g. 50000",value:M[a.id]?.price||"",onChange:b=>N({...M,[a.id]:{...M[a.id],price:b.target.value}})})]})}),(0,b.jsxs)("div",{className:"space-y-2",children:[(0,b.jsx)(n.Label,{children:"Response Message (Optional)"}),(0,b.jsx)(m.Textarea,{placeholder:"Explain your pricing or offer details...",value:M[a.id]?.message||"",onChange:b=>N({...M,[a.id]:{...M[a.id],message:b.target.value}})})]}),(0,b.jsxs)("div",{className:"space-y-2",children:[(0,b.jsx)(n.Label,{children:"Attachment (Optional - PDF or Image)"}),(0,b.jsx)(y.FileUpload,{onUploaded:b=>N({...M,[a.id]:{...M[a.id],attachment:b}}),label:"Upload Quote/Rate Card",accept:"image/*,application/pdf"}),M[a.id]?.attachment&&(0,b.jsx)("p",{className:"text-xs text-green-600",children:"File uploaded successfully."})]}),(0,b.jsxs)(j.Button,{onClick:()=>_(a.id),disabled:!M[a.id]?.price||K===a.id,className:"w-full md:w-auto",children:[K===a.id&&(0,b.jsx)(p.Loader2,{className:"mr-2 h-4 w-4 animate-spin"}),"revision_requested"===a.status?"Send Revised Quote":"Send Quote Response"]})]}),"accepted"===a.status&&(0,b.jsxs)("div",{className:"bg-green-50 border border-green-200 p-4 rounded-md mt-4",children:[(0,b.jsxs)("div",{className:"flex justify-between items-start mb-3",children:[(0,b.jsxs)("div",{className:"flex items-center gap-2",children:[(0,b.jsx)("div",{className:"h-2 w-2 rounded-full bg-green-500"}),(0,b.jsx)("p",{className:"font-bold text-green-800",children:"Quote Accepted!"})]}),a.contact_expires_at&&(0,b.jsxs)("p",{className:"text-[10px] text-orange-600 font-semibold animate-pulse",children:["ACCESS EXPIRES: ",new Date(a.contact_expires_at).toLocaleDateString()]})]}),(0,b.jsx)("p",{className:"text-sm text-green-700 mb-4",children:"The organizer has accepted your quote. You can now contact them directly."}),(0,b.jsx)("div",{className:"flex flex-wrap gap-2",children:(0,b.jsxs)(j.Button,{variant:"outline",size:"sm",className:"bg-white",onClick:()=>aa(a),children:[(0,b.jsx)(t,{className:"mr-2 h-4 w-4"}),"View Organizer Contact"]})})]}),"archived"===a.status&&(0,b.jsxs)("div",{className:"bg-slate-50 border border-slate-200 p-4 rounded-md mt-4 flex items-center gap-3",children:[(0,b.jsx)(w.X,{className:"h-5 w-5 text-slate-400"}),(0,b.jsxs)("div",{children:[(0,b.jsx)("p",{className:"font-bold text-slate-700",children:"Contact Access Expired"}),(0,b.jsx)("p",{className:"text-xs text-slate-500",children:"The 15-day contact window has closed. This quote is now archived."})]})]}),"pending"!==a.status&&"revision_requested"!==a.status&&a.quoted_price&&(0,b.jsxs)("div",{className:"bg-primary/5 p-4 rounded-md mt-4 border border-primary/10",children:[(0,b.jsx)("p",{className:"font-semibold mb-1",children:"Your response:"}),(0,b.jsxs)("p",{className:"font-medium",children:["Quote: ₹",a.quoted_price]}),a.vendor_response&&(0,b.jsx)("p",{className:"text-sm mt-2 text-muted-foreground",children:a.vendor_response}),a.attachment_url&&(0,b.jsx)("div",{className:"mt-3",children:(0,b.jsxs)("a",{href:a.attachment_url,target:"_blank",rel:"noopener noreferrer",className:"text-xs text-primary hover:underline flex items-center gap-1",children:[(0,b.jsx)(t,{className:"h-3 w-3"})," View Attachment"]})})]})]})]},a.id))]})]}),(0,b.jsx)(ak.Dialog,{open:U,onOpenChange:V,children:(0,b.jsxs)(ak.DialogContent,{className:"sm:max-w-[400px]",children:[(0,b.jsxs)(ak.DialogHeader,{children:[(0,b.jsx)(ak.DialogTitle,{children:"Organizer Contact Information"}),(0,b.jsxs)(ak.DialogDescription,{children:["Direct communication unlocked with ",S?.organizer.name," for ",Q?.event_title]}),Q?.contact_expires_at&&(0,b.jsxs)("div",{className:"mt-2 text-[10px] font-semibold text-orange-600 uppercase tracking-tight",children:["Access ends on ",new Date(Q.contact_expires_at).toLocaleString()]})]}),W?(0,b.jsx)("div",{className:"py-12 flex justify-center",children:(0,b.jsx)(p.Loader2,{className:"h-8 w-8 animate-spin text-primary"})}):S?(0,b.jsx)("div",{className:"space-y-6 py-4",children:(0,b.jsxs)("div",{className:"space-y-4",children:[(0,b.jsxs)("div",{className:"flex items-center p-3 border rounded-lg",children:[(0,b.jsx)(u.Phone,{className:"h-5 w-5 text-primary mr-3"}),(0,b.jsxs)("div",{className:"flex-1",children:[(0,b.jsx)("p",{className:"text-xs text-muted-foreground uppercase font-semibold",children:"Phone Number"}),(0,b.jsx)("a",{href:`tel:${S.organizer.phone}`,className:"text-sm font-medium hover:underline",children:S.organizer.phone||"Not provided"})]})]}),(0,b.jsxs)("div",{className:"flex items-center p-3 border rounded-lg",children:[(0,b.jsx)(v.Mail,{className:"h-5 w-5 text-primary mr-3"}),(0,b.jsxs)("div",{className:"flex-1",children:[(0,b.jsx)("p",{className:"text-xs text-muted-foreground uppercase font-semibold",children:"Email Address"}),(0,b.jsx)("a",{href:`mailto:${S.organizer.email}`,className:"text-sm font-medium hover:underline",children:S.organizer.email||"Not provided"})]})]})]})}):(0,b.jsx)("div",{className:"py-8 text-center text-sm text-muted-foreground",children:"Failed to load contact information."}),(0,b.jsx)(ak.DialogFooter,{children:(0,b.jsx)(j.Button,{variant:"ghost",onClick:()=>V(!1),className:"w-full",children:"Close"})})]})}),(0,b.jsx)(i.Footer,{})]}):null}a.s(["default",()=>al],12683)}];

//# sourceMappingURL=apps_vendor_src_app_vendor_dashboard_page_tsx_70d88020._.js.map