module.exports=[32434,a=>{"use strict";var b=a.i(87924),c=a.i(72131);a.i(99711);var d=a.i(17549),e=a.i(24607);a.i(56120);var f=a.i(71360),g=a.i(27707),h=a.i(78723),i=a.i(96221),j=a.i(23292),k=a.i(15409);function l(){let{user:a}=(0,e.useAuth)(),[l,m]=(0,c.useState)([]),[n,o]=(0,c.useState)(!0),p=async()=>{try{let a=await d.adminService.getUsers();m(a)}catch(a){console.error("Failed to fetch users",a),j.toast.error("Failed to fetch users")}finally{o(!1)}};(0,c.useEffect)(()=>{p()},[]);let q=async(a,b)=>{try{await d.adminService.updateUserRole(a,b),j.toast.success("User role updated"),m(c=>c.map(c=>c.id===a?{...c,role:b}:c))}catch(a){console.error("Failed to update role",a),j.toast.error("Failed to update user role")}};if(n)return(0,b.jsx)("div",{className:"flex h-full w-full items-center justify-center",children:(0,b.jsx)(i.Loader2,{className:"h-8 w-8 animate-spin text-primary"})});let r=a?.role==="super_admin";return(0,b.jsxs)("div",{className:"flex flex-col gap-4",children:[(0,b.jsx)("h1",{className:"text-3xl font-bold tracking-tight",children:"Users"}),(0,b.jsx)("div",{className:"rounded-md border",children:(0,b.jsxs)(f.Table,{children:[(0,b.jsx)(f.TableHeader,{children:(0,b.jsxs)(f.TableRow,{children:[(0,b.jsx)(f.TableHead,{className:"w-[100px]",children:"Avatar"}),(0,b.jsx)(f.TableHead,{children:"Start Info"}),(0,b.jsx)(f.TableHead,{children:"Email"}),(0,b.jsx)(f.TableHead,{children:"Current Role"}),(0,b.jsx)(f.TableHead,{className:"text-right",children:"Actions"})]})}),(0,b.jsx)(f.TableBody,{children:l.map(a=>(0,b.jsxs)(f.TableRow,{children:[(0,b.jsx)(f.TableCell,{children:(0,b.jsxs)(g.Avatar,{children:[(0,b.jsx)(g.AvatarImage,{src:a.profile_image_url,alt:a.username||a.full_name}),(0,b.jsx)(g.AvatarFallback,{children:(a.full_name||a.username||"U").charAt(0).toUpperCase()})]})}),(0,b.jsx)(f.TableCell,{children:(0,b.jsxs)("div",{className:"flex flex-col",children:[(0,b.jsx)("span",{className:"font-medium",children:a.full_name||"N/A"}),(0,b.jsxs)("span",{className:"text-xs text-muted-foreground",children:["@",a.username]})]})}),(0,b.jsx)(f.TableCell,{children:a.email}),(0,b.jsx)(f.TableCell,{children:(0,b.jsx)(k.Badge,{variant:"outline",className:"capitalize",children:a.role})}),(0,b.jsx)(f.TableCell,{className:"text-right",children:r?(0,b.jsxs)(h.Select,{value:a.role,onValueChange:b=>q(a.id,b),children:[(0,b.jsx)(h.SelectTrigger,{className:"w-[130px] ml-auto",children:(0,b.jsx)(h.SelectValue,{placeholder:"Select role"})}),(0,b.jsxs)(h.SelectContent,{children:[(0,b.jsx)(h.SelectItem,{value:"user",children:"User"}),(0,b.jsx)(h.SelectItem,{value:"staff",children:"Staff"}),(0,b.jsx)(h.SelectItem,{value:"admin",children:"Admin"}),(0,b.jsx)(h.SelectItem,{value:"super_admin",children:"Super Admin"})]})]}):(0,b.jsx)("span",{className:"text-sm text-muted-foreground italic",children:"View Only"})})]},a.id))})]})})]})}a.s(["default",()=>l])}];

//# sourceMappingURL=apps_admin_src_app_admin_users_page_tsx_804388e8._.js.map