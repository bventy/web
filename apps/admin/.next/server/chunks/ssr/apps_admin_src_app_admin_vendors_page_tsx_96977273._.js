module.exports=[58250,a=>{"use strict";var b=a.i(87924),c=a.i(72131);a.i(99711);var d=a.i(17549);a.i(56120);var e=a.i(62917),f=a.i(71360),g=a.i(27707),h=a.i(34157),h=h,i=a.i(33508),j=a.i(96221),k=a.i(23292);function l(){let[a,l]=(0,c.useState)([]),[m,n]=(0,c.useState)([]),[o,p]=(0,c.useState)(!0),q=async()=>{try{let[a,b]=await Promise.all([d.adminService.getVendors("pending"),d.adminService.getVendors("verified")]);l(a),n(b)}catch(a){console.error("Failed to fetch vendors",a),k.toast.error("Failed to fetch vendors")}finally{p(!1)}};(0,c.useEffect)(()=>{q()},[]);let r=async b=>{try{await d.adminService.approveVendor(b),k.toast.success("Vendor approved successfully"),l(a=>a.filter(a=>a.id!==b));let c=a.find(a=>a.id===b);c&&n(a=>[...a,{...c,status:"verified"}])}catch(a){console.error("Failed to approve vendor",a),k.toast.error("Failed to approve vendor")}},s=async a=>{try{await d.adminService.rejectVendor(a),k.toast.success("Vendor rejected"),l(b=>b.filter(b=>b.id!==a))}catch(a){console.error("Failed to reject vendor",a),k.toast.error("Failed to reject vendor")}};return o?(0,b.jsx)("div",{className:"flex h-full w-full items-center justify-center",children:(0,b.jsx)(j.Loader2,{className:"h-8 w-8 animate-spin text-primary"})}):(0,b.jsxs)("div",{className:"flex flex-col gap-8",children:[(0,b.jsxs)("div",{className:"flex flex-col gap-4",children:[(0,b.jsx)("h1",{className:"text-3xl font-bold tracking-tight",children:"Pending Vendors"}),(0,b.jsx)("div",{className:"rounded-md border bg-white",children:(0,b.jsxs)(f.Table,{children:[(0,b.jsx)(f.TableHeader,{children:(0,b.jsxs)(f.TableRow,{children:[(0,b.jsx)(f.TableHead,{className:"w-[100px]",children:"Image"}),(0,b.jsx)(f.TableHead,{children:"Business Name"}),(0,b.jsx)(f.TableHead,{children:"City"}),(0,b.jsx)(f.TableHead,{children:"Category"}),(0,b.jsx)(f.TableHead,{className:"text-right",children:"Actions"})]})}),(0,b.jsx)(f.TableBody,{children:0===a.length?(0,b.jsx)(f.TableRow,{children:(0,b.jsx)(f.TableCell,{colSpan:5,className:"h-24 text-center",children:"No pending vendors."})}):a.map(a=>(0,b.jsxs)(f.TableRow,{children:[(0,b.jsx)(f.TableCell,{children:(0,b.jsxs)(g.Avatar,{children:[(0,b.jsx)(g.AvatarImage,{src:a.primary_profile_image_url,alt:a.business_name}),(0,b.jsx)(g.AvatarFallback,{children:a.business_name?.charAt(0)||"?"})]})}),(0,b.jsx)(f.TableCell,{className:"font-medium",children:a.business_name}),(0,b.jsx)(f.TableCell,{children:a.city}),(0,b.jsx)(f.TableCell,{className:"capitalize",children:a.category}),(0,b.jsx)(f.TableCell,{className:"text-right",children:(0,b.jsxs)("div",{className:"flex justify-end gap-2",children:[(0,b.jsxs)(e.Button,{size:"sm",variant:"outline",className:"text-green-600 hover:text-green-700 hover:bg-green-50",onClick:()=>r(a.id),children:[(0,b.jsx)(h.default,{className:"h-4 w-4"}),(0,b.jsx)("span",{className:"sr-only",children:"Approve"})]}),(0,b.jsxs)(e.Button,{size:"sm",variant:"outline",className:"text-red-600 hover:text-red-700 hover:bg-red-50",onClick:()=>s(a.id),children:[(0,b.jsx)(i.X,{className:"h-4 w-4"}),(0,b.jsx)("span",{className:"sr-only",children:"Reject"})]})]})})]},a.id))})]})})]}),(0,b.jsxs)("div",{className:"flex flex-col gap-4",children:[(0,b.jsx)("h1",{className:"text-3xl font-bold tracking-tight",children:"Verified Vendors"}),(0,b.jsx)("div",{className:"rounded-md border bg-white",children:(0,b.jsxs)(f.Table,{children:[(0,b.jsx)(f.TableHeader,{children:(0,b.jsxs)(f.TableRow,{children:[(0,b.jsx)(f.TableHead,{className:"w-[100px]",children:"Image"}),(0,b.jsx)(f.TableHead,{children:"Business Name"}),(0,b.jsx)(f.TableHead,{children:"City"}),(0,b.jsx)(f.TableHead,{children:"Category"}),(0,b.jsx)(f.TableHead,{className:"text-right",children:"Status"})]})}),(0,b.jsx)(f.TableBody,{children:0===m.length?(0,b.jsx)(f.TableRow,{children:(0,b.jsx)(f.TableCell,{colSpan:5,className:"h-24 text-center",children:"No verified vendors found."})}):m.map(a=>(0,b.jsxs)(f.TableRow,{children:[(0,b.jsx)(f.TableCell,{children:(0,b.jsxs)(g.Avatar,{children:[(0,b.jsx)(g.AvatarImage,{src:a.primary_profile_image_url,alt:a.business_name}),(0,b.jsx)(g.AvatarFallback,{children:a.business_name?.charAt(0)||"?"})]})}),(0,b.jsx)(f.TableCell,{className:"font-medium",children:a.business_name}),(0,b.jsx)(f.TableCell,{children:a.city}),(0,b.jsx)(f.TableCell,{className:"capitalize",children:a.category}),(0,b.jsx)(f.TableCell,{className:"text-right",children:(0,b.jsx)("span",{className:"inline-flex items-center rounded-full bg-green-50 px-2 py-1 text-xs font-medium text-green-700 ring-1 ring-inset ring-green-600/20",children:"Verified"})})]},a.id))})]})})]})]})}a.s(["default",()=>l],58250)}];

//# sourceMappingURL=apps_admin_src_app_admin_vendors_page_tsx_96977273._.js.map