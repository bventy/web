(globalThis.TURBOPACK||(globalThis.TURBOPACK=[])).push(["object"==typeof document?document.currentScript:void 0,71344,e=>{"use strict";var a=e.i(43476),s=e.i(71645);e.i(41644);var l=e.i(55694);e.i(16233);var r=e.i(50610),i=e.i(64526),n=e.i(73030),t=e.i(78745),t=t,c=e.i(37727),d=e.i(31278),o=e.i(46696);function x(){let[e,x]=(0,s.useState)([]),[h,m]=(0,s.useState)([]),[j,b]=(0,s.useState)(!0),g=async()=>{try{let[e,a]=await Promise.all([l.adminService.getVendors("pending"),l.adminService.getVendors("verified")]);x(e),m(a)}catch(e){console.error("Failed to fetch vendors",e),o.toast.error("Failed to fetch vendors")}finally{b(!1)}};(0,s.useEffect)(()=>{g()},[]);let u=async a=>{try{await l.adminService.approveVendor(a),o.toast.success("Vendor approved successfully"),x(e=>e.filter(e=>e.id!==a));let s=e.find(e=>e.id===a);s&&m(e=>[...e,{...s,status:"verified"}])}catch(e){console.error("Failed to approve vendor",e),o.toast.error("Failed to approve vendor")}},v=async e=>{try{await l.adminService.rejectVendor(e),o.toast.success("Vendor rejected"),x(a=>a.filter(a=>a.id!==e))}catch(e){console.error("Failed to reject vendor",e),o.toast.error("Failed to reject vendor")}};return j?(0,a.jsx)("div",{className:"flex h-full w-full items-center justify-center",children:(0,a.jsx)(d.Loader2,{className:"h-8 w-8 animate-spin text-primary"})}):(0,a.jsxs)("div",{className:"flex flex-col gap-8",children:[(0,a.jsxs)("div",{className:"flex flex-col gap-4",children:[(0,a.jsx)("h1",{className:"text-3xl font-bold tracking-tight",children:"Pending Vendors"}),(0,a.jsx)("div",{className:"rounded-md border bg-white",children:(0,a.jsxs)(i.Table,{children:[(0,a.jsx)(i.TableHeader,{children:(0,a.jsxs)(i.TableRow,{children:[(0,a.jsx)(i.TableHead,{className:"w-[100px]",children:"Image"}),(0,a.jsx)(i.TableHead,{children:"Business Name"}),(0,a.jsx)(i.TableHead,{children:"City"}),(0,a.jsx)(i.TableHead,{children:"Category"}),(0,a.jsx)(i.TableHead,{className:"text-right",children:"Actions"})]})}),(0,a.jsx)(i.TableBody,{children:0===e.length?(0,a.jsx)(i.TableRow,{children:(0,a.jsx)(i.TableCell,{colSpan:5,className:"h-24 text-center",children:"No pending vendors."})}):e.map(e=>(0,a.jsxs)(i.TableRow,{children:[(0,a.jsx)(i.TableCell,{children:(0,a.jsxs)(n.Avatar,{children:[(0,a.jsx)(n.AvatarImage,{src:e.primary_profile_image_url,alt:e.business_name}),(0,a.jsx)(n.AvatarFallback,{children:e.business_name?.charAt(0)||"?"})]})}),(0,a.jsx)(i.TableCell,{className:"font-medium",children:e.business_name}),(0,a.jsx)(i.TableCell,{children:e.city}),(0,a.jsx)(i.TableCell,{className:"capitalize",children:e.category}),(0,a.jsx)(i.TableCell,{className:"text-right",children:(0,a.jsxs)("div",{className:"flex justify-end gap-2",children:[(0,a.jsxs)(r.Button,{size:"sm",variant:"outline",className:"text-green-600 hover:text-green-700 hover:bg-green-50",onClick:()=>u(e.id),children:[(0,a.jsx)(t.default,{className:"h-4 w-4"}),(0,a.jsx)("span",{className:"sr-only",children:"Approve"})]}),(0,a.jsxs)(r.Button,{size:"sm",variant:"outline",className:"text-red-600 hover:text-red-700 hover:bg-red-50",onClick:()=>v(e.id),children:[(0,a.jsx)(c.X,{className:"h-4 w-4"}),(0,a.jsx)("span",{className:"sr-only",children:"Reject"})]})]})})]},e.id))})]})})]}),(0,a.jsxs)("div",{className:"flex flex-col gap-4",children:[(0,a.jsx)("h1",{className:"text-3xl font-bold tracking-tight",children:"Verified Vendors"}),(0,a.jsx)("div",{className:"rounded-md border bg-white",children:(0,a.jsxs)(i.Table,{children:[(0,a.jsx)(i.TableHeader,{children:(0,a.jsxs)(i.TableRow,{children:[(0,a.jsx)(i.TableHead,{className:"w-[100px]",children:"Image"}),(0,a.jsx)(i.TableHead,{children:"Business Name"}),(0,a.jsx)(i.TableHead,{children:"City"}),(0,a.jsx)(i.TableHead,{children:"Category"}),(0,a.jsx)(i.TableHead,{className:"text-right",children:"Status"})]})}),(0,a.jsx)(i.TableBody,{children:0===h.length?(0,a.jsx)(i.TableRow,{children:(0,a.jsx)(i.TableCell,{colSpan:5,className:"h-24 text-center",children:"No verified vendors found."})}):h.map(e=>(0,a.jsxs)(i.TableRow,{children:[(0,a.jsx)(i.TableCell,{children:(0,a.jsxs)(n.Avatar,{children:[(0,a.jsx)(n.AvatarImage,{src:e.primary_profile_image_url,alt:e.business_name}),(0,a.jsx)(n.AvatarFallback,{children:e.business_name?.charAt(0)||"?"})]})}),(0,a.jsx)(i.TableCell,{className:"font-medium",children:e.business_name}),(0,a.jsx)(i.TableCell,{children:e.city}),(0,a.jsx)(i.TableCell,{className:"capitalize",children:e.category}),(0,a.jsx)(i.TableCell,{className:"text-right",children:(0,a.jsx)("span",{className:"inline-flex items-center rounded-full bg-green-50 px-2 py-1 text-xs font-medium text-green-700 ring-1 ring-inset ring-green-600/20",children:"Verified"})})]},e.id))})]})})]})]})}e.s(["default",()=>x],71344)}]);