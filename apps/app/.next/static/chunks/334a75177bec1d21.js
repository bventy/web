(globalThis.TURBOPACK||(globalThis.TURBOPACK=[])).push(["object"==typeof document?document.currentScript:void 0,61911,e=>{"use strict";let s=(0,e.i(75254).default)("users",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["path",{d:"M16 3.128a4 4 0 0 1 0 7.744",key:"16gr8j"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}]]);e.s(["Users",()=>s],61911)},72520,e=>{"use strict";let s=(0,e.i(75254).default)("arrow-right",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"m12 5 7 7-7 7",key:"xquz4c"}]]);e.s(["ArrowRight",()=>s],72520)},69180,e=>{"use strict";var s=e.i(43476),a=e.i(71645),t=e.i(18566);e.i(41644);var r=e.i(27421);e.i(16233);var l=e.i(74650),i=e.i(50610),d=e.i(31278),n=e.i(23945),o=e.i(87316),c=e.i(75254);let h=(0,c.default)("shield-check",[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]]);var x=e.i(61911),u=e.i(72520),m=e.i(22016),j=e.i(18951),f=e.i(45959),g=e.i(2795),v=e.i(64526),p=e.i(35131),b=e.i(78745),b=b,y=e.i(37727);let w=(0,c.default)("receipt-text",[["path",{d:"M13 16H8",key:"wsln4y"}],["path",{d:"M14 8H8",key:"1l3xfs"}],["path",{d:"M16 12H8",key:"1fr5h0"}],["path",{d:"M4 3a1 1 0 0 1 1-1 1.3 1.3 0 0 1 .7.2l.933.6a1.3 1.3 0 0 0 1.4 0l.934-.6a1.3 1.3 0 0 1 1.4 0l.933.6a1.3 1.3 0 0 0 1.4 0l.933-.6a1.3 1.3 0 0 1 1.4 0l.934.6a1.3 1.3 0 0 0 1.4 0l.933-.6A1.3 1.3 0 0 1 19 2a1 1 0 0 1 1 1v18a1 1 0 0 1-1 1 1.3 1.3 0 0 1-.7-.2l-.933-.6a1.3 1.3 0 0 0-1.4 0l-.934.6a1.3 1.3 0 0 1-1.4 0l-.933-.6a1.3 1.3 0 0 0-1.4 0l-.933.6a1.3 1.3 0 0 1-1.4 0l-.934-.6a1.3 1.3 0 0 0-1.4 0l-.933.6a1.3 1.3 0 0 1-.7.2 1 1 0 0 1-1-1z",key:"ycz6yz"}]]);var N=e.i(46696);function C(){let e=(0,t.useRouter)(),[c,C]=(0,a.useState)(null),[k,T]=(0,a.useState)([]),[M,q]=(0,a.useState)(!0),[H,_]=(0,a.useState)(null);(0,a.useEffect)(()=>{localStorage.getItem("token")?(async()=>{try{let e=await r.userService.getMe();C(e);try{let e=await g.quoteService.getMyQuotes();T(e)}catch(e){console.error("Failed to fetch quotes (possibly not implemented yet)",e),T([])}}catch(s){console.error("Failed to fetch dashboard data",s),localStorage.removeItem("token"),e.push("/auth/login")}finally{q(!1)}})():e.push("/auth/login")},[e]);let B=async e=>{_(e+"-accept");try{await g.quoteService.acceptQuote(e),N.toast.success("Quote accepted successfully!");let s=await g.quoteService.getMyQuotes();T(s)}catch(e){console.error(e),N.toast.error("Failed to accept quote.")}finally{_(null)}},S=async e=>{_(e+"-reject");try{await g.quoteService.rejectQuote(e),N.toast.success("Quote rejected.");let s=await g.quoteService.getMyQuotes();T(s)}catch(e){console.error(e),N.toast.error("Failed to reject quote.")}finally{_(null)}};if(M)return(0,s.jsxs)("div",{className:"flex min-h-screen flex-col",children:[(0,s.jsx)(j.Navbar,{}),(0,s.jsx)("div",{className:"flex-1 flex items-center justify-center",children:(0,s.jsx)(d.Loader2,{className:"h-8 w-8 animate-spin text-primary"})}),(0,s.jsx)(f.Footer,{})]});if(!c)return null;let A=["admin","super_admin","staff"].includes(c.role),R=c.full_name?c.full_name.split(" ")[0]:"there";return(0,s.jsxs)("div",{className:"flex min-h-screen flex-col bg-slate-50 dark:bg-slate-950",children:[(0,s.jsx)(j.Navbar,{}),(0,s.jsxs)("main",{className:"flex-1 container mx-auto px-4 py-12",children:[(0,s.jsxs)("div",{className:"mb-10 text-center md:text-left",children:[(0,s.jsxs)("h1",{className:"text-3xl font-bold tracking-tight md:text-4xl",children:["Good ",12>new Date().getHours()?"morning":18>new Date().getHours()?"afternoon":"evening",", ",R,"."]}),(0,s.jsx)("p",{className:"mt-2 text-lg text-muted-foreground",children:"What would you like to focus on today?"})]}),(0,s.jsxs)("div",{className:"grid gap-6 md:grid-cols-2 lg:grid-cols-2 xl:grid-cols-4",children:[(0,s.jsxs)(l.Card,{className:"flex flex-col border-0 shadow-lg shadow-slate-200/50 dark:shadow-none ring-1 ring-slate-200 dark:ring-slate-800 transition-all hover:translate-y-[-4px] hover:shadow-xl",children:[(0,s.jsxs)(l.CardHeader,{children:[(0,s.jsx)("div",{className:"mb-2 inline-flex h-10 w-10 items-center justify-center rounded-lg bg-blue-100 text-blue-600 dark:bg-blue-900/30 dark:text-blue-400",children:(0,s.jsx)(o.Calendar,{className:"h-5 w-5"})}),(0,s.jsx)(l.CardTitle,{children:"Plan Events"}),(0,s.jsx)(l.CardDescription,{children:"Create and manage your events. Find vendors and track budgets."})]}),(0,s.jsx)(l.CardContent,{className:"mt-auto pt-4",children:(0,s.jsx)(i.Button,{className:"w-full justify-between group",asChild:!0,children:(0,s.jsxs)(m.default,{href:"/events",children:["My Events",(0,s.jsx)(u.ArrowRight,{className:"h-4 w-4 transition-transform group-hover:translate-x-1"})]})})})]}),(0,s.jsxs)(l.Card,{className:"flex flex-col border-0 shadow-lg shadow-slate-200/50 dark:shadow-none ring-1 ring-slate-200 dark:ring-slate-800 transition-all hover:translate-y-[-4px] hover:shadow-xl",children:[(0,s.jsxs)(l.CardHeader,{children:[(0,s.jsx)("div",{className:"mb-2 inline-flex h-10 w-10 items-center justify-center rounded-lg bg-violet-100 text-violet-600 dark:bg-violet-900/30 dark:text-violet-400",children:(0,s.jsx)(x.Users,{className:"h-5 w-5"})}),(0,s.jsx)(l.CardTitle,{children:"Groups"}),(0,s.jsx)(l.CardDescription,{children:"Manage not-for-profit groups, communities, and agencies."})]}),(0,s.jsx)(l.CardContent,{className:"mt-auto pt-4",children:(0,s.jsx)(i.Button,{className:"w-full justify-between group",variant:"secondary",asChild:!0,children:(0,s.jsxs)(m.default,{href:"/groups",children:["My Groups",(0,s.jsx)(u.ArrowRight,{className:"h-4 w-4 transition-transform group-hover:translate-x-1"})]})})})]}),(0,s.jsxs)(l.Card,{className:"flex flex-col border-0 shadow-lg shadow-slate-200/50 dark:shadow-none ring-1 ring-slate-200 dark:ring-slate-800 transition-all hover:translate-y-[-4px] hover:shadow-xl",children:[(0,s.jsxs)(l.CardHeader,{children:[(0,s.jsx)("div",{className:"mb-2 inline-flex h-10 w-10 items-center justify-center rounded-lg bg-emerald-100 text-emerald-600 dark:bg-emerald-900/30 dark:text-emerald-400",children:(0,s.jsx)(n.Store,{className:"h-5 w-5"})}),(0,s.jsx)(l.CardTitle,{children:"Vendor Mode"}),(0,s.jsx)(l.CardDescription,{children:c.vendor_profile_exists?"Manage your business profile and incoming leads.":"List your services and start getting leads today."})]}),(0,s.jsx)(l.CardContent,{className:"mt-auto pt-4",children:c.vendor_profile_exists?(0,s.jsx)(i.Button,{className:"w-full justify-between group",variant:"outline",asChild:!0,children:(0,s.jsxs)(m.default,{href:"/vendor/dashboard",children:["Vendor Dashboard",(0,s.jsx)(u.ArrowRight,{className:"h-4 w-4 transition-transform group-hover:translate-x-1"})]})}):(0,s.jsx)(i.Button,{className:"w-full justify-between group",variant:"outline",asChild:!0,children:(0,s.jsxs)(m.default,{href:"/vendor/onboard",children:["Become a Vendor",(0,s.jsx)(u.ArrowRight,{className:"h-4 w-4 transition-transform group-hover:translate-x-1"})]})})})]}),A&&(0,s.jsxs)(l.Card,{className:"flex flex-col border-0 shadow-lg shadow-slate-200/50 dark:shadow-none ring-1 ring-red-200 dark:ring-red-900/50 bg-red-50/50 dark:bg-red-950/10 transition-all hover:translate-y-[-4px] hover:shadow-xl",children:[(0,s.jsxs)(l.CardHeader,{children:[(0,s.jsx)("div",{className:"mb-2 inline-flex h-10 w-10 items-center justify-center rounded-lg bg-red-100 text-red-600 dark:bg-red-900/30 dark:text-red-400",children:(0,s.jsx)(h,{className:"h-5 w-5"})}),(0,s.jsx)(l.CardTitle,{children:"Internal Tools"}),(0,s.jsx)(l.CardDescription,{children:"Admin dashboard for platform management and moderation."})]}),(0,s.jsx)(l.CardContent,{className:"mt-auto pt-4",children:(0,s.jsx)(i.Button,{className:"w-full justify-between group",variant:"destructive",asChild:!0,children:(0,s.jsxs)(m.default,{href:"/admin",children:["Admin Panel",(0,s.jsx)(u.ArrowRight,{className:"h-4 w-4 transition-transform group-hover:translate-x-1"})]})})})]})]}),(0,s.jsxs)("div",{className:"mt-16 space-y-6 animate-in fade-in-50 slide-in-from-bottom-4",children:[(0,s.jsxs)("div",{className:"flex items-center justify-between",children:[(0,s.jsxs)("div",{children:[(0,s.jsx)("h2",{className:"text-2xl font-bold tracking-tight",children:"My Quotes"}),(0,s.jsx)("p",{className:"text-muted-foreground",children:"Manage quotes you have requested from vendors."})]}),(0,s.jsx)(i.Button,{variant:"outline",size:"sm",asChild:!0,children:(0,s.jsx)(m.default,{href:"/quotes",children:"View All Quotes"})})]}),(0,s.jsx)("div",{className:"bg-white dark:bg-slate-900 rounded-xl border shadow-sm overflow-hidden",children:0===k.length?(0,s.jsxs)("div",{className:"flex min-h-[200px] flex-col items-center justify-center text-center p-8",children:[(0,s.jsx)("div",{className:"mx-auto flex h-10 w-10 items-center justify-center rounded-full bg-primary/10 mb-3",children:(0,s.jsx)(w,{className:"h-5 w-5 text-primary"})}),(0,s.jsx)("h3",{className:"text-base font-semibold",children:"No Quotes Found"}),(0,s.jsx)("p",{className:"text-sm text-muted-foreground max-w-sm mt-1 mb-4",children:"You haven't requested any quotes from vendors yet."}),(0,s.jsx)(i.Button,{size:"sm",asChild:!0,children:(0,s.jsx)(m.default,{href:"/vendors",children:"Find Vendors"})})]}):(0,s.jsx)("div",{className:"overflow-x-auto",children:(0,s.jsxs)(v.Table,{children:[(0,s.jsx)(v.TableHeader,{className:"bg-muted/50",children:(0,s.jsxs)(v.TableRow,{children:[(0,s.jsx)(v.TableHead,{children:"Vendor"}),(0,s.jsx)(v.TableHead,{children:"Event"}),(0,s.jsx)(v.TableHead,{children:"Requested Budget"}),(0,s.jsx)(v.TableHead,{children:"Quoted Price"}),(0,s.jsx)(v.TableHead,{children:"Status"}),(0,s.jsx)(v.TableHead,{className:"text-right",children:"Actions"})]})}),(0,s.jsx)(v.TableBody,{children:k.slice(0,5).map(e=>{let a=e.vendor_name||e.vendor_id,t=e.event_title||e.event_id,r="responded"===e.status;return(0,s.jsxs)(v.TableRow,{children:[(0,s.jsx)(v.TableCell,{className:"font-medium",children:a}),(0,s.jsx)(v.TableCell,{children:t}),(0,s.jsx)(v.TableCell,{className:"text-sm text-muted-foreground whitespace-nowrap",children:e.budget_range||"-"}),(0,s.jsx)(v.TableCell,{className:"font-semibold",children:e.quoted_price?`â‚¹${e.quoted_price}`:"Pending response"}),(0,s.jsx)(v.TableCell,{children:(0,s.jsx)(p.Badge,{variant:"accepted"===e.status?"default":"rejected"===e.status?"destructive":"responded"===e.status?"secondary":"outline",className:"capitalize",children:e.status.replace("_"," ")})}),(0,s.jsx)(v.TableCell,{className:"text-right",children:r&&(0,s.jsxs)("div",{className:"flex items-center justify-end gap-2",children:[(0,s.jsxs)(i.Button,{size:"sm",variant:"outline",disabled:!!H,onClick:()=>S(e.id),className:"text-red-600 hover:text-red-700 hover:bg-red-50 h-8 text-xs",children:[H===e.id+"-reject"?(0,s.jsx)(d.Loader2,{className:"h-3 w-3 animate-spin"}):(0,s.jsx)(y.X,{className:"h-3 w-3 mr-1"}),"Reject"]}),(0,s.jsxs)(i.Button,{size:"sm",disabled:!!H,onClick:()=>B(e.id),className:"h-8 text-xs",children:[H===e.id+"-accept"?(0,s.jsx)(d.Loader2,{className:"h-3 w-3 animate-spin"}):(0,s.jsx)(b.default,{className:"h-3 w-3 mr-1"}),"Accept"]})]})})]},e.id)})})]})})})]})]}),(0,s.jsx)(f.Footer,{})]})}e.s(["default",()=>C],69180)}]);