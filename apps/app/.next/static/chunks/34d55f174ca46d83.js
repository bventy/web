(globalThis.TURBOPACK||(globalThis.TURBOPACK=[])).push(["object"==typeof document?document.currentScript:void 0,54381,e=>{"use strict";var r=e.i(43476),s=e.i(71645),a=e.i(18566),n=e.i(53145),i=e.i(94814),t=e.i(62201);e.i(16233);var l=e.i(50610),o=e.i(91214),c=e.i(6556),m=e.i(19696),d=e.i(31278),u=e.i(37727);e.i(41644);var h=e.i(29446),x=e.i(64973),p=e.i(22016),j=e.i(74650),g=e.i(78598);let F=t.object({name:t.string().min(3,{message:"Group name must be at least 3 characters."}),city:t.string().min(2,{message:"City must be at least 2 characters."}),description:t.string().min(10,{message:"Description must be at least 10 characters."}),banner_image_url:t.string().optional()});function y(){let e=(0,a.useRouter)(),[t,y]=(0,s.useState)(!1),[b,C]=(0,s.useState)(null),f=(0,n.useForm)({resolver:(0,i.zodResolver)(F),defaultValues:{name:"",city:"",description:"",banner_image_url:""}});async function v(r){y(!0),C(null);try{await h.groupService.createGroup({name:r.name,city:r.city,description:r.description,banner_image_url:r.banner_image_url}),e.push("/groups")}catch(e){e.response&&e.response.data&&e.response.data.message?C(e.response.data.message):C("Failed to create group. Please try again.")}finally{y(!1)}}return(0,r.jsx)("div",{className:"container mx-auto max-w-2xl py-10",children:(0,r.jsxs)(j.Card,{children:[(0,r.jsxs)(j.CardHeader,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[(0,r.jsxs)("div",{className:"flex flex-col space-y-1.5",children:[(0,r.jsx)(j.CardTitle,{children:"Create a Community"}),(0,r.jsx)(j.CardDescription,{children:"Start a new group to organize events and connect with others in your city."})]}),(0,r.jsx)(l.Button,{variant:"ghost",size:"icon",asChild:!0,className:"shrink-0",children:(0,r.jsxs)(p.default,{href:"/groups",children:[(0,r.jsx)(u.X,{className:"h-4 w-4"}),(0,r.jsx)("span",{className:"sr-only",children:"Close"})]})})]}),(0,r.jsx)(j.CardContent,{children:(0,r.jsx)(o.Form,{...f,children:(0,r.jsxs)("form",{onSubmit:f.handleSubmit(v),className:"space-y-6",children:[(0,r.jsx)(o.FormField,{control:f.control,name:"banner_image_url",render:({field:e})=>(0,r.jsxs)(o.FormItem,{children:[(0,r.jsx)(o.FormLabel,{children:"Banner Image"}),(0,r.jsx)(o.FormControl,{children:(0,r.jsx)(g.FileUpload,{onUploaded:r=>e.onChange(r),defaultUrl:e.value,label:"Upload Group Banner"})}),(0,r.jsx)(o.FormMessage,{})]})}),(0,r.jsx)(o.FormField,{control:f.control,name:"name",render:({field:e})=>(0,r.jsxs)(o.FormItem,{children:[(0,r.jsx)(o.FormLabel,{children:"Group Name"}),(0,r.jsx)(o.FormControl,{children:(0,r.jsx)(c.Input,{placeholder:"e.g. Pune Tech Events",...e})}),(0,r.jsx)(o.FormDescription,{children:"This is your public community name."}),(0,r.jsx)(o.FormMessage,{})]})}),(0,r.jsx)(o.FormField,{control:f.control,name:"city",render:({field:e})=>(0,r.jsxs)(o.FormItem,{children:[(0,r.jsx)(o.FormLabel,{children:"City"}),(0,r.jsx)(o.FormControl,{children:(0,r.jsx)(c.Input,{placeholder:"e.g. Pune",...e})}),(0,r.jsx)(o.FormMessage,{})]})}),(0,r.jsx)(o.FormField,{control:f.control,name:"description",render:({field:e})=>(0,r.jsxs)(o.FormItem,{children:[(0,r.jsx)(o.FormLabel,{children:"Description"}),(0,r.jsx)(o.FormControl,{children:(0,r.jsx)(m.Textarea,{placeholder:"Tell us about your community...",className:"resize-none",...e})}),(0,r.jsx)(o.FormMessage,{})]})}),b&&(0,r.jsx)(x.Alert,{variant:"destructive",children:(0,r.jsx)(x.AlertDescription,{children:b})}),(0,r.jsxs)(l.Button,{type:"submit",className:"w-full",disabled:t,children:[t&&(0,r.jsx)(d.Loader2,{className:"mr-2 h-4 w-4 animate-spin"}),"Create Group"]})]})})})]})})}e.s(["default",()=>y])}]);