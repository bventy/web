module.exports=[79503,a=>{"use strict";var b=a.i(87924),c=a.i(72131),d=a.i(50944),e=a.i(95245),f=a.i(59501),g=a.i(54714);a.i(56120);var h=a.i(62917),i=a.i(79059),j=a.i(43328),k=a.i(78616),l=a.i(96221),m=a.i(33508);a.i(99711);var n=a.i(81627),o=a.i(27491),p=a.i(38246),q=a.i(11703),r=a.i(67327);let s=g.object({name:g.string().min(3,{message:"Group name must be at least 3 characters."}),city:g.string().min(2,{message:"City must be at least 2 characters."}),description:g.string().min(10,{message:"Description must be at least 10 characters."}),banner_image_url:g.string().optional()});function t(){let a=(0,d.useRouter)(),[g,t]=(0,c.useState)(!1),[u,v]=(0,c.useState)(null),w=(0,e.useForm)({resolver:(0,f.zodResolver)(s),defaultValues:{name:"",city:"",description:"",banner_image_url:""}});async function x(b){t(!0),v(null);try{await n.groupService.createGroup({name:b.name,city:b.city,description:b.description,banner_image_url:b.banner_image_url}),a.push("/groups")}catch(a){a.response&&a.response.data&&a.response.data.message?v(a.response.data.message):v("Failed to create group. Please try again.")}finally{t(!1)}}return(0,b.jsx)("div",{className:"container mx-auto max-w-2xl py-10",children:(0,b.jsxs)(q.Card,{children:[(0,b.jsxs)(q.CardHeader,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[(0,b.jsxs)("div",{className:"flex flex-col space-y-1.5",children:[(0,b.jsx)(q.CardTitle,{children:"Create a Community"}),(0,b.jsx)(q.CardDescription,{children:"Start a new group to organize events and connect with others in your city."})]}),(0,b.jsx)(h.Button,{variant:"ghost",size:"icon",asChild:!0,className:"shrink-0",children:(0,b.jsxs)(p.default,{href:"/groups",children:[(0,b.jsx)(m.X,{className:"h-4 w-4"}),(0,b.jsx)("span",{className:"sr-only",children:"Close"})]})})]}),(0,b.jsx)(q.CardContent,{children:(0,b.jsx)(i.Form,{...w,children:(0,b.jsxs)("form",{onSubmit:w.handleSubmit(x),className:"space-y-6",children:[(0,b.jsx)(i.FormField,{control:w.control,name:"banner_image_url",render:({field:a})=>(0,b.jsxs)(i.FormItem,{children:[(0,b.jsx)(i.FormLabel,{children:"Banner Image"}),(0,b.jsx)(i.FormControl,{children:(0,b.jsx)(r.FileUpload,{onUploaded:b=>a.onChange(b),defaultUrl:a.value,label:"Upload Group Banner"})}),(0,b.jsx)(i.FormMessage,{})]})}),(0,b.jsx)(i.FormField,{control:w.control,name:"name",render:({field:a})=>(0,b.jsxs)(i.FormItem,{children:[(0,b.jsx)(i.FormLabel,{children:"Group Name"}),(0,b.jsx)(i.FormControl,{children:(0,b.jsx)(j.Input,{placeholder:"e.g. Pune Tech Events",...a})}),(0,b.jsx)(i.FormDescription,{children:"This is your public community name."}),(0,b.jsx)(i.FormMessage,{})]})}),(0,b.jsx)(i.FormField,{control:w.control,name:"city",render:({field:a})=>(0,b.jsxs)(i.FormItem,{children:[(0,b.jsx)(i.FormLabel,{children:"City"}),(0,b.jsx)(i.FormControl,{children:(0,b.jsx)(j.Input,{placeholder:"e.g. Pune",...a})}),(0,b.jsx)(i.FormMessage,{})]})}),(0,b.jsx)(i.FormField,{control:w.control,name:"description",render:({field:a})=>(0,b.jsxs)(i.FormItem,{children:[(0,b.jsx)(i.FormLabel,{children:"Description"}),(0,b.jsx)(i.FormControl,{children:(0,b.jsx)(k.Textarea,{placeholder:"Tell us about your community...",className:"resize-none",...a})}),(0,b.jsx)(i.FormMessage,{})]})}),u&&(0,b.jsx)(o.Alert,{variant:"destructive",children:(0,b.jsx)(o.AlertDescription,{children:u})}),(0,b.jsxs)(h.Button,{type:"submit",className:"w-full",disabled:g,children:[g&&(0,b.jsx)(l.Loader2,{className:"mr-2 h-4 w-4 animate-spin"}),"Create Group"]})]})})})]})})}a.s(["default",()=>t])}];

//# sourceMappingURL=apps_app_src_app_groups_new_page_tsx_2854ce41._.js.map