{"version":3,"sources":["../../../../../../apps/app/src/app/groups/new/page.tsx"],"sourcesContent":["\"use client\";\n\nimport { useState } from \"react\";\nimport { useRouter } from \"next/navigation\";\nimport { useForm } from \"react-hook-form\";\nimport { zodResolver } from \"@hookform/resolvers/zod\";\nimport * as z from \"zod\";\nimport { Button  } from \"@bventy/ui\";\nimport { Form,\n    FormControl,\n    FormDescription,\n    FormField,\n    FormItem,\n    FormLabel,\n    FormMessage,\n } from \"@bventy/ui\";\nimport { Input  } from \"@bventy/ui\";\nimport { Textarea  } from \"@bventy/ui\";\nimport { Loader2, X } from \"lucide-react\";\nimport { groupService  } from \"@bventy/services\";\nimport { Alert, AlertDescription  } from \"@bventy/ui\";\nimport Link from \"next/link\";\nimport { Card, CardContent, CardDescription, CardHeader, CardTitle  } from \"@bventy/ui\";\nimport { FileUpload  } from \"@bventy/ui\";\n\nconst formSchema = z.object({\n    name: z.string().min(3, {\n        message: \"Group name must be at least 3 characters.\",\n    }),\n    city: z.string().min(2, {\n        message: \"City must be at least 2 characters.\",\n    }),\n    description: z.string().min(10, {\n        message: \"Description must be at least 10 characters.\",\n    }),\n    banner_image_url: z.string().optional(),\n});\n\nexport default function CreateGroupPage() {\n    const router = useRouter();\n    const [isLoading, setIsLoading] = useState(false);\n    const [error, setError] = useState<string | null>(null);\n\n    const form = useForm<z.infer<typeof formSchema>>({\n        resolver: zodResolver(formSchema),\n        defaultValues: {\n            name: \"\",\n            city: \"\",\n            description: \"\",\n            banner_image_url: \"\",\n        },\n    });\n\n    async function onSubmit(values: z.infer<typeof formSchema>) {\n        setIsLoading(true);\n        setError(null);\n        try {\n            await groupService.createGroup({\n                name: values.name,\n                city: values.city,\n                description: values.description,\n                banner_image_url: values.banner_image_url,\n            });\n            router.push(\"/groups\");\n        } catch (err: any) {\n            if (err.response && err.response.data && err.response.data.message) {\n                setError(err.response.data.message);\n            } else {\n                setError(\"Failed to create group. Please try again.\");\n            }\n        } finally {\n            setIsLoading(false);\n        }\n    }\n\n    return (\n        <div className=\"container mx-auto max-w-2xl py-10\">\n            <Card>\n                <CardHeader className=\"flex flex-row items-center justify-between space-y-0 pb-2\">\n                    <div className=\"flex flex-col space-y-1.5\">\n                        <CardTitle>Create a Community</CardTitle>\n                        <CardDescription>\n                            Start a new group to organize events and connect with others in your city.\n                        </CardDescription>\n                    </div>\n                    <Button variant=\"ghost\" size=\"icon\" asChild className=\"shrink-0\">\n                        <Link href=\"/groups\">\n                            <X className=\"h-4 w-4\" />\n                            <span className=\"sr-only\">Close</span>\n                        </Link>\n                    </Button>\n                </CardHeader>\n                <CardContent>\n                    <Form {...form}>\n                        <form onSubmit={form.handleSubmit(onSubmit)} className=\"space-y-6\">\n                            <FormField\n                                control={form.control}\n                                name=\"banner_image_url\"\n                                render={({ field }) => (\n                                    <FormItem>\n                                        <FormLabel>Banner Image</FormLabel>\n                                        <FormControl>\n                                            <FileUpload\n                                                onUploaded={(url) => field.onChange(url)}\n                                                defaultUrl={field.value}\n                                                label=\"Upload Group Banner\"\n                                            />\n                                        </FormControl>\n                                        <FormMessage />\n                                    </FormItem>\n                                )}\n                            />\n\n                            <FormField\n                                control={form.control}\n                                name=\"name\"\n                                render={({ field }) => (\n                                    <FormItem>\n                                        <FormLabel>Group Name</FormLabel>\n                                        <FormControl>\n                                            <Input placeholder=\"e.g. Pune Tech Events\" {...field} />\n                                        </FormControl>\n                                        <FormDescription>\n                                            This is your public community name.\n                                        </FormDescription>\n                                        <FormMessage />\n                                    </FormItem>\n                                )}\n                            />\n                            <FormField\n                                control={form.control}\n                                name=\"city\"\n                                render={({ field }) => (\n                                    <FormItem>\n                                        <FormLabel>City</FormLabel>\n                                        <FormControl>\n                                            <Input placeholder=\"e.g. Pune\" {...field} />\n                                        </FormControl>\n                                        <FormMessage />\n                                    </FormItem>\n                                )}\n                            />\n                            <FormField\n                                control={form.control}\n                                name=\"description\"\n                                render={({ field }) => (\n                                    <FormItem>\n                                        <FormLabel>Description</FormLabel>\n                                        <FormControl>\n                                            <Textarea\n                                                placeholder=\"Tell us about your community...\"\n                                                className=\"resize-none\"\n                                                {...field}\n                                            />\n                                        </FormControl>\n                                        <FormMessage />\n                                    </FormItem>\n                                )}\n                            />\n\n                            {error && (\n                                <Alert variant=\"destructive\">\n                                    <AlertDescription>{error}</AlertDescription>\n                                </Alert>\n                            )}\n\n                            <Button type=\"submit\" className=\"w-full\" disabled={isLoading}>\n                                {isLoading && <Loader2 className=\"mr-2 h-4 w-4 animate-spin\" />}\n                                Create Group\n                            </Button>\n                        </form>\n                    </Form>\n                </CardContent>\n            </Card>\n        </div>\n    );\n}\n"],"names":[],"mappings":"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"}