module.exports=[54210,a=>{"use strict";var b=a.i(87924),c=a.i(95245),d=a.i(59501),e=a.i(54714);a.i(56120);var f=a.i(62917),g=a.i(79059),h=a.i(43328),i=a.i(78616),j=a.i(78723),k=a.i(72131);a.i(99711);var l=a.i(74326),m=a.i(93641),n=a.i(27759),o=a.i(50944),p=a.i(96221),q=a.i(27491),r=a.i(24607),s=a.i(67327),t=a.i(84520);let u=e.object({full_name:e.string().min(2,{message:"Full name must be at least 2 characters."}),email:e.string().email({message:"Please enter a valid email address."}),password:e.string().min(6,{message:"Password must be at least 6 characters."}),business_name:e.string().min(2,{message:"Business name must be at least 2 characters."}),category:e.string().min(1,{message:"Please select a category."}),city:e.string().min(2,{message:"City must be at least 2 characters."}),bio:e.string().min(10,{message:"Bio must be at least 10 characters."}),whatsapp_link:e.string().url({message:"Please enter a valid URL."}),portfolio_image_url:e.string().optional()});function v(){(0,o.useRouter)();let{login:a}=(0,r.useAuth)(),[e,v]=(0,k.useState)(!1),[w,x]=(0,k.useState)(null),[y,z]=(0,k.useState)(null),A=(0,c.useForm)({resolver:(0,d.zodResolver)(u),defaultValues:{full_name:"",email:"",password:"",business_name:"",category:"",city:"",bio:"",whatsapp_link:"",portfolio_image_url:""}});async function B(b){v(!0),x(null);try{let c=await l.authService.signup({full_name:b.full_name,email:b.email,password:b.password});await a(c.token,!1);let d=b.portfolio_image_url;if(y)try{d=await t.mediaService.uploadMedia(y);try{await n.userService.updateProfile({profile_image_url:d}),await a(c.token,!1)}catch(a){console.error("Sync failed",a)}}catch(a){console.error("Failed to upload portfolio image",a)}await m.vendorService.createProfile({business_name:b.business_name,category:b.category,city:b.city,bio:b.bio,whatsapp_link:b.whatsapp_link,portfolio_image_url:d}),await a(c.token,!0)}catch(a){console.error("Vendor signup error:",a),a.response&&a.response.data&&a.response.data.message?x(a.response.data.message):x("Failed to create vendor account. Please try again.")}finally{v(!1)}}return(0,b.jsx)("div",{className:"w-full",children:(0,b.jsx)(g.Form,{...A,children:(0,b.jsxs)("form",{onSubmit:A.handleSubmit(B),className:"space-y-6",children:[(0,b.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-x-12 gap-y-10",children:[(0,b.jsxs)("div",{className:"space-y-6",children:[(0,b.jsxs)("h3",{className:"text-sm font-bold uppercase tracking-widest text-primary/80 flex items-center gap-2",children:[(0,b.jsx)("span",{className:"h-4 w-1 bg-primary rounded-full"}),"Personal Details"]}),(0,b.jsxs)("div",{className:"space-y-4",children:[(0,b.jsx)(g.FormField,{control:A.control,name:"full_name",render:({field:a})=>(0,b.jsxs)(g.FormItem,{className:"space-y-1.5",children:[(0,b.jsx)(g.FormLabel,{className:"text-xs font-semibold uppercase tracking-wider text-muted-foreground/80",children:"Full Name"}),(0,b.jsx)(g.FormControl,{children:(0,b.jsx)(h.Input,{placeholder:"John Doe",...a,className:"h-11 bg-muted/30 border-muted-foreground/20 focus:bg-background transition-all"})}),(0,b.jsx)(g.FormMessage,{className:"text-[10px]"})]})}),(0,b.jsx)(g.FormField,{control:A.control,name:"email",render:({field:a})=>(0,b.jsxs)(g.FormItem,{className:"space-y-1.5",children:[(0,b.jsx)(g.FormLabel,{className:"text-xs font-semibold uppercase tracking-wider text-muted-foreground/80",children:"Email Address"}),(0,b.jsx)(g.FormControl,{children:(0,b.jsx)(h.Input,{placeholder:"name@example.com",...a,className:"h-11 bg-muted/30 border-muted-foreground/20 focus:bg-background transition-all"})}),(0,b.jsx)(g.FormMessage,{className:"text-[10px]"})]})}),(0,b.jsx)(g.FormField,{control:A.control,name:"password",render:({field:a})=>(0,b.jsxs)(g.FormItem,{className:"space-y-1.5",children:[(0,b.jsx)(g.FormLabel,{className:"text-xs font-semibold uppercase tracking-wider text-muted-foreground/80",children:"Password"}),(0,b.jsx)(g.FormControl,{children:(0,b.jsx)(h.Input,{type:"password",placeholder:"••••••••",...a,className:"h-11 bg-muted/30 border-muted-foreground/20 focus:bg-background transition-all"})}),(0,b.jsx)(g.FormMessage,{className:"text-[10px]"})]})})]})]}),(0,b.jsxs)("div",{className:"space-y-6",children:[(0,b.jsxs)("h3",{className:"text-sm font-bold uppercase tracking-widest text-primary/80 flex items-center gap-2",children:[(0,b.jsx)("span",{className:"h-4 w-1 bg-primary rounded-full"}),"Business Details"]}),(0,b.jsxs)("div",{className:"space-y-4",children:[(0,b.jsx)(g.FormField,{control:A.control,name:"business_name",render:({field:a})=>(0,b.jsxs)(g.FormItem,{className:"space-y-1.5",children:[(0,b.jsx)(g.FormLabel,{className:"text-xs font-semibold uppercase tracking-wider text-muted-foreground/80",children:"Business Name"}),(0,b.jsx)(g.FormControl,{children:(0,b.jsx)(h.Input,{placeholder:"e.g. Beats by Dre",...a,className:"h-11 bg-muted/30 border-muted-foreground/20 focus:bg-background transition-all"})}),(0,b.jsx)(g.FormMessage,{className:"text-[10px]"})]})}),(0,b.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[(0,b.jsx)(g.FormField,{control:A.control,name:"category",render:({field:a})=>(0,b.jsxs)(g.FormItem,{className:"space-y-1.5",children:[(0,b.jsx)(g.FormLabel,{className:"text-xs font-semibold uppercase tracking-wider text-muted-foreground/80",children:"Category"}),(0,b.jsxs)(j.Select,{onValueChange:a.onChange,defaultValue:a.value,children:[(0,b.jsx)(g.FormControl,{children:(0,b.jsx)(j.SelectTrigger,{className:"h-11 bg-muted/30 border-muted-foreground/20 focus:bg-background transition-all",children:(0,b.jsx)(j.SelectValue,{placeholder:"Select"})})}),(0,b.jsxs)(j.SelectContent,{children:[(0,b.jsx)(j.SelectItem,{value:"DJ",children:"DJ"}),(0,b.jsx)(j.SelectItem,{value:"Decor",children:"Decor"}),(0,b.jsx)(j.SelectItem,{value:"Venue",children:"Venue"}),(0,b.jsx)(j.SelectItem,{value:"Catering",children:"Catering"}),(0,b.jsx)(j.SelectItem,{value:"Photography",children:"Photography"})]})]}),(0,b.jsx)(g.FormMessage,{className:"text-[10px]"})]})}),(0,b.jsx)(g.FormField,{control:A.control,name:"city",render:({field:a})=>(0,b.jsxs)(g.FormItem,{className:"space-y-1.5",children:[(0,b.jsx)(g.FormLabel,{className:"text-xs font-semibold uppercase tracking-wider text-muted-foreground/80",children:"City"}),(0,b.jsx)(g.FormControl,{children:(0,b.jsx)(h.Input,{placeholder:"e.g. Mumbai",...a,className:"h-11 bg-muted/30 border-muted-foreground/20 focus:bg-background transition-all"})}),(0,b.jsx)(g.FormMessage,{className:"text-[10px]"})]})})]}),(0,b.jsx)(g.FormField,{control:A.control,name:"whatsapp_link",render:({field:a})=>(0,b.jsxs)(g.FormItem,{className:"space-y-1.5",children:[(0,b.jsx)(g.FormLabel,{className:"text-xs font-semibold uppercase tracking-wider text-muted-foreground/80",children:"WhatsApp Link"}),(0,b.jsx)(g.FormControl,{children:(0,b.jsx)(h.Input,{placeholder:"https://wa.me/91...",...a,className:"h-11 bg-muted/30 border-muted-foreground/20 focus:bg-background transition-all"})}),(0,b.jsx)(g.FormMessage,{className:"text-[10px]"})]})}),(0,b.jsx)(g.FormField,{control:A.control,name:"portfolio_image_url",render:({field:a})=>(0,b.jsxs)(g.FormItem,{className:"space-y-1.5",children:[(0,b.jsx)(g.FormLabel,{className:"text-xs font-semibold uppercase tracking-wider text-muted-foreground/80",children:"Portfolio Image"}),(0,b.jsx)(g.FormControl,{children:(0,b.jsx)(s.FileUpload,{onFileSelect:a=>z(a),defaultUrl:a.value,label:"Upload Portfolio Image"})}),(0,b.jsx)(g.FormMessage,{className:"text-[10px]"})]})})]})]})]}),(0,b.jsx)("div",{className:"pt-2",children:(0,b.jsx)(g.FormField,{control:A.control,name:"bio",render:({field:a})=>(0,b.jsxs)(g.FormItem,{className:"space-y-1.5",children:[(0,b.jsx)(g.FormLabel,{className:"text-xs font-semibold uppercase tracking-wider text-muted-foreground/80",children:"Business Bio"}),(0,b.jsx)(g.FormControl,{children:(0,b.jsx)(i.Textarea,{placeholder:"Tell us about your services, awards, and experience...",className:"resize-none h-24 bg-muted/30 border-muted-foreground/20 focus:bg-background transition-all",...a})}),(0,b.jsx)(g.FormMessage,{className:"text-[10px]"})]})})}),w&&(0,b.jsx)(q.Alert,{variant:"destructive",className:"py-2.5",children:(0,b.jsx)(q.AlertDescription,{className:"text-xs font-medium",children:w})}),(0,b.jsx)("div",{className:"flex justify-center pt-4",children:(0,b.jsxs)(f.Button,{type:"submit",className:"min-w-[280px] h-12 text-base font-bold shadow-sm hover:shadow-lg transition-all active:scale-[0.98]",disabled:e,children:[e&&(0,b.jsx)(p.Loader2,{className:"mr-2 h-5 w-5 animate-spin"}),e?"Creating Account...":"Join as a Vendor"]})})]})})})}a.s(["VendorSignupForm",()=>v])}];

//# sourceMappingURL=apps_auth_src_components_auth_VendorSignupForm_tsx_9c9f90f5._.js.map