module.exports=[54210,a=>{"use strict";var b=a.i(87924),c=a.i(95245),d=a.i(59501),e=a.i(54714);a.i(56120);var f=a.i(62917),g=a.i(79059),h=a.i(43328),i=a.i(78616),j=a.i(78723),k=a.i(72131);a.i(99711);var l=a.i(74326),m=a.i(93641),n=a.i(27759),o=a.i(50944),p=a.i(96221),q=a.i(27491),r=a.i(24607),s=a.i(67327),t=a.i(84520);let u=e.object({full_name:e.string().min(2,{message:"Full name must be at least 2 characters."}),email:e.string().email({message:"Please enter a valid email address."}),password:e.string().min(6,{message:"Password must be at least 6 characters."}),business_name:e.string().min(2,{message:"Business name must be at least 2 characters."}),category:e.string().min(1,{message:"Please select a category."}),city:e.string().min(2,{message:"City must be at least 2 characters."}),bio:e.string().min(10,{message:"Bio must be at least 10 characters."}),whatsapp_link:e.string().url({message:"Please enter a valid URL."}),portfolio_image_url:e.string().optional()});function v(){(0,o.useRouter)();let{login:a}=(0,r.useAuth)(),[e,v]=(0,k.useState)(!1),[w,x]=(0,k.useState)(null),[y,z]=(0,k.useState)(null),A=(0,c.useForm)({resolver:(0,d.zodResolver)(u),defaultValues:{full_name:"",email:"",password:"",business_name:"",category:"",city:"",bio:"",whatsapp_link:"",portfolio_image_url:""}});async function B(b){v(!0),x(null);try{let c=await l.authService.signup({full_name:b.full_name,email:b.email,password:b.password});await a(c.token,!1);let d=b.portfolio_image_url;if(y)try{d=await t.mediaService.uploadMedia(y);try{await n.userService.updateProfile({profile_image_url:d}),await a(c.token,!1)}catch(a){console.error("Sync failed",a)}}catch(a){console.error("Failed to upload portfolio image",a)}await m.vendorService.createProfile({business_name:b.business_name,category:b.category,city:b.city,bio:b.bio,whatsapp_link:b.whatsapp_link,portfolio_image_url:d}),await a(c.token,!0)}catch(a){console.error("Vendor signup error:",a),a.response&&a.response.data&&a.response.data.message?x(a.response.data.message):x("Failed to create vendor account. Please try again.")}finally{v(!1)}}return(0,b.jsx)("div",{className:"w-full",children:(0,b.jsx)(g.Form,{...A,children:(0,b.jsxs)("form",{onSubmit:A.handleSubmit(B),className:"space-y-6",children:[(0,b.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-8",children:[(0,b.jsxs)("div",{className:"space-y-4",children:[(0,b.jsx)("h3",{className:"text-lg font-medium border-b pb-2",children:"Personal Details"}),(0,b.jsx)(g.FormField,{control:A.control,name:"full_name",render:({field:a})=>(0,b.jsxs)(g.FormItem,{children:[(0,b.jsx)(g.FormLabel,{children:"Full Name"}),(0,b.jsx)(g.FormControl,{children:(0,b.jsx)(h.Input,{placeholder:"John Doe",...a})}),(0,b.jsx)(g.FormMessage,{})]})}),(0,b.jsx)(g.FormField,{control:A.control,name:"email",render:({field:a})=>(0,b.jsxs)(g.FormItem,{children:[(0,b.jsx)(g.FormLabel,{children:"Email"}),(0,b.jsx)(g.FormControl,{children:(0,b.jsx)(h.Input,{placeholder:"name@example.com",...a})}),(0,b.jsx)(g.FormMessage,{})]})}),(0,b.jsx)(g.FormField,{control:A.control,name:"password",render:({field:a})=>(0,b.jsxs)(g.FormItem,{children:[(0,b.jsx)(g.FormLabel,{children:"Password"}),(0,b.jsx)(g.FormControl,{children:(0,b.jsx)(h.Input,{type:"password",placeholder:"******",...a})}),(0,b.jsx)(g.FormMessage,{})]})})]}),(0,b.jsxs)("div",{className:"space-y-4",children:[(0,b.jsx)("h3",{className:"text-lg font-medium border-b pb-2",children:"Business Details"}),(0,b.jsx)(g.FormField,{control:A.control,name:"business_name",render:({field:a})=>(0,b.jsxs)(g.FormItem,{children:[(0,b.jsx)(g.FormLabel,{children:"Business Name"}),(0,b.jsx)(g.FormControl,{children:(0,b.jsx)(h.Input,{placeholder:"e.g. Beats by Dre",...a})}),(0,b.jsx)(g.FormMessage,{})]})}),(0,b.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[(0,b.jsx)(g.FormField,{control:A.control,name:"category",render:({field:a})=>(0,b.jsxs)(g.FormItem,{children:[(0,b.jsx)(g.FormLabel,{children:"Category"}),(0,b.jsxs)(j.Select,{onValueChange:a.onChange,defaultValue:a.value,children:[(0,b.jsx)(g.FormControl,{children:(0,b.jsx)(j.SelectTrigger,{children:(0,b.jsx)(j.SelectValue,{placeholder:"Select"})})}),(0,b.jsxs)(j.SelectContent,{children:[(0,b.jsx)(j.SelectItem,{value:"DJ",children:"DJ"}),(0,b.jsx)(j.SelectItem,{value:"Decor",children:"Decor"}),(0,b.jsx)(j.SelectItem,{value:"Venue",children:"Venue"}),(0,b.jsx)(j.SelectItem,{value:"Catering",children:"Catering"}),(0,b.jsx)(j.SelectItem,{value:"Photography",children:"Photography"})]})]}),(0,b.jsx)(g.FormMessage,{})]})}),(0,b.jsx)(g.FormField,{control:A.control,name:"city",render:({field:a})=>(0,b.jsxs)(g.FormItem,{children:[(0,b.jsx)(g.FormLabel,{children:"City"}),(0,b.jsx)(g.FormControl,{children:(0,b.jsx)(h.Input,{placeholder:"e.g. Mumbai",...a})}),(0,b.jsx)(g.FormMessage,{})]})})]}),(0,b.jsx)(g.FormField,{control:A.control,name:"whatsapp_link",render:({field:a})=>(0,b.jsxs)(g.FormItem,{children:[(0,b.jsx)(g.FormLabel,{children:"WhatsApp Link"}),(0,b.jsx)(g.FormControl,{children:(0,b.jsx)(h.Input,{placeholder:"https://wa.me/91...",...a})}),(0,b.jsx)(g.FormMessage,{})]})}),(0,b.jsx)(g.FormField,{control:A.control,name:"portfolio_image_url",render:({field:a})=>(0,b.jsxs)(g.FormItem,{children:[(0,b.jsx)(g.FormLabel,{children:"Portfolio Image"}),(0,b.jsx)(g.FormControl,{children:(0,b.jsx)(s.FileUpload,{onFileSelect:a=>z(a),defaultUrl:a.value,label:"Upload Portfolio Image"})}),(0,b.jsx)(g.FormMessage,{})]})})]})]}),(0,b.jsx)(g.FormField,{control:A.control,name:"bio",render:({field:a})=>(0,b.jsxs)(g.FormItem,{children:[(0,b.jsx)(g.FormLabel,{children:"Short Bio"}),(0,b.jsx)(g.FormControl,{children:(0,b.jsx)(i.Textarea,{placeholder:"Tell us about your services...",className:"resize-none h-[60px]",...a})}),(0,b.jsx)(g.FormMessage,{})]})}),w&&(0,b.jsx)(q.Alert,{variant:"destructive",children:(0,b.jsx)(q.AlertDescription,{children:w})}),(0,b.jsx)("div",{className:"flex justify-center",children:(0,b.jsxs)(f.Button,{type:"submit",className:"min-w-[200px]",disabled:e,children:[e&&(0,b.jsx)(p.Loader2,{className:"mr-2 h-4 w-4 animate-spin"}),"Create Vendor Account"]})})]})})})}a.s(["VendorSignupForm",()=>v])}];

//# sourceMappingURL=apps_auth_src_components_auth_VendorSignupForm_tsx_9c9f90f5._.js.map