{"version":3,"sources":["../../../../../../apps/auth/src/components/auth/LoginForm.tsx","../../../../../../apps/auth/src/app/auth/login/page.tsx"],"sourcesContent":["\"use client\";\n\nimport { useForm } from \"react-hook-form\";\nimport { zodResolver } from \"@hookform/resolvers/zod\";\nimport * as z from \"zod\";\nimport { Button  } from \"@bventy/ui\";\nimport { Form,\n    FormControl,\n    FormField,\n    FormItem,\n    FormLabel,\n    FormMessage,\n } from \"@bventy/ui\";\nimport { Input  } from \"@bventy/ui\";\nimport { useState } from \"react\";\nimport { authService  } from \"@bventy/services\";\nimport { useRouter } from \"next/navigation\";\nimport { Loader2 } from \"lucide-react\";\nimport { Alert, AlertDescription  } from \"@bventy/ui\";\nimport Link from \"next/link\";\nimport { useAuth  } from \"@bventy/services\";\n\nconst formSchema = z.object({\n    email: z.string().email({\n        message: \"Please enter a valid email address.\",\n    }),\n    password: z.string().min(1, {\n        message: \"Password is required.\",\n    }),\n});\n\nexport function LoginForm() {\n    const router = useRouter(); // Keep for safety if login doesn't redirect (but it does)\n    const { login } = useAuth();\n    const [isLoading, setIsLoading] = useState(false);\n    const [error, setError] = useState<string | null>(null);\n\n    const form = useForm<z.infer<typeof formSchema>>({\n        resolver: zodResolver(formSchema),\n        defaultValues: {\n            email: \"\",\n            password: \"\",\n        },\n    });\n\n    async function onSubmit(values: z.infer<typeof formSchema>) {\n        setIsLoading(true);\n        setError(null);\n        try {\n            const response = await authService.login(values);\n            await login(response.token);\n        } catch (err: any) {\n            if (err.response && err.response.data && err.response.data.message) {\n                setError(err.response.data.message);\n            } else {\n                setError(\"Invalid credentials. Please try again.\");\n            }\n        } finally {\n            setIsLoading(false);\n        }\n    }\n\n    return (\n        <div className=\"grid gap-6\">\n            <Form {...form}>\n                <form onSubmit={form.handleSubmit(onSubmit)} className=\"space-y-4\">\n                    <FormField\n                        control={form.control}\n                        name=\"email\"\n                        render={({ field }) => (\n                            <FormItem>\n                                <FormLabel>Email</FormLabel>\n                                <FormControl>\n                                    <Input placeholder=\"name@example.com\" {...field} />\n                                </FormControl>\n                                <FormMessage />\n                            </FormItem>\n                        )}\n                    />\n                    <FormField\n                        control={form.control}\n                        name=\"password\"\n                        render={({ field }) => (\n                            <FormItem>\n                                <FormLabel>Password</FormLabel>\n                                <FormControl>\n                                    <Input type=\"password\" placeholder=\"******\" {...field} />\n                                </FormControl>\n                                <FormMessage />\n                            </FormItem>\n                        )}\n                    />\n\n                    {error && (\n                        <Alert variant=\"destructive\">\n                            <AlertDescription>{error}</AlertDescription>\n                        </Alert>\n                    )}\n\n                    <Button type=\"submit\" className=\"w-full\" disabled={isLoading}>\n                        {isLoading && <Loader2 className=\"mr-2 h-4 w-4 animate-spin\" />}\n                        Sign In\n                    </Button>\n\n                    <p className=\"text-center text-sm text-neutral-500 mt-4\">\n                        By signing in, you agree to our{\" \"}\n                        <Link href=\"/privacy\" className=\"underline underline-offset-4 hover:text-neutral-900 dark:hover:text-neutral-300\">\n                            Privacy Policy\n                        </Link>\n                        .\n                    </p>\n\n                </form>\n            </Form>\n        </div>\n    );\n}\n","\"use client\";\n\nimport { LoginForm } from \"@/components/auth/LoginForm\";\nimport Link from \"next/link\";\nimport { Card, CardContent, CardDescription, CardFooter, CardHeader, CardTitle  } from \"@bventy/ui\";\nimport { useEffect } from \"react\";\nimport { useAuth  } from \"@bventy/services\";\nimport { useRouter } from \"next/navigation\";\n\nexport default function LoginPage() {\n    return (\n        <div className=\"container relative flex h-screen flex-col items-center justify-center md:grid lg:max-w-none lg:grid-cols-1 lg:px-0\">\n            <div className=\"lg:p-8\">\n                <div className=\"mx-auto flex w-full flex-col justify-center space-y-6 sm:w-[350px]\">\n                    <Card>\n                        <CardHeader className=\"space-y-1\">\n                            <CardTitle className=\"text-2xl font-bold tracking-tight\">\n                                Welcome back\n                            </CardTitle>\n                            <CardDescription>\n                                Enter your credentials to sign in to your account\n                            </CardDescription>\n                        </CardHeader>\n                        <CardContent>\n                            <LoginForm />\n                        </CardContent>\n                        <CardFooter>\n                            <p className=\"px-8 text-center text-sm text-muted-foreground w-full\">\n                                New user?{\" \"}\n                                <Link\n                                    href=\"/auth/signup\"\n                                    className=\"underline underline-offset-4 hover:text-primary\"\n                                >\n                                    Create an account\n                                </Link>\n                            </p>\n                        </CardFooter>\n                    </Card>\n                </div>\n            </div>\n        </div>\n    );\n}\n"],"names":[],"mappings":"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"}